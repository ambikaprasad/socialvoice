if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find('[data-toggle="collapse"][data-parent="'+j+'"]').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+', [role="menu"], [role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);(function(root,factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{root.lightbox=factory(root.jQuery)}})(this,function($){function Lightbox(options){this.album=[];this.currentImageIndex=void 0;this.init();this.options=$.extend({},this.constructor.defaults);this.option(options)}Lightbox.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:false,fadeDuration:600,fitImagesInViewport:true,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:true,wrapAround:false,disableScrolling:false,sanitizeTitle:false};Lightbox.prototype.option=function(options){$.extend(this.options,options)};Lightbox.prototype.imageCountLabel=function(currentImageNum,totalImages){return this.options.albumLabel.replace(/%1/g,currentImageNum).replace(/%2/g,totalImages)};Lightbox.prototype.init=function(){var self=this;$(document).ready(function(){self.enable();self.build()})};Lightbox.prototype.enable=function(){var self=this;$("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(event){self.start($(event.currentTarget));return false})};Lightbox.prototype.build=function(){var self=this;$('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo($("body"));this.$lightbox=$("#lightbox");this.$overlay=$("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){self.end();return false});this.$lightbox.hide().on("click",function(event){if($(event.target).attr("id")==="lightbox"){self.end()}return false});this.$outerContainer.on("click",function(event){if($(event.target).attr("id")==="lightbox"){self.end()}return false});this.$lightbox.find(".lb-prev").on("click",function(){if(self.currentImageIndex===0){self.changeImage(self.album.length-1)}else{self.changeImage(self.currentImageIndex-1)}return false});this.$lightbox.find(".lb-next").on("click",function(){if(self.currentImageIndex===self.album.length-1){self.changeImage(0)}else{self.changeImage(self.currentImageIndex+1)}return false});this.$nav.on("mousedown",function(event){if(event.which===3){self.$nav.css("pointer-events","none");self.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(self),0)})}});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){self.end();return false})};Lightbox.prototype.start=function($link){var self=this;var $window=$(window);$window.on("resize",$.proxy(this.sizeOverlay,this));$("select, object, embed").css({visibility:"hidden"});this.sizeOverlay();this.album=[];var imageNumber=0;function addToAlbum($link){self.album.push({link:$link.attr("href"),title:$link.attr("data-title")||$link.attr("title")})}var dataLightboxValue=$link.attr("data-lightbox");var $links;if(dataLightboxValue){$links=$($link.prop("tagName")+'[data-lightbox="'+dataLightboxValue+'"]');for(var i=0;i<$links.length;i=++i){addToAlbum($($links[i]));if($links[i]===$link[0]){imageNumber=i}}}else{if($link.attr("rel")==="lightbox"){addToAlbum($link)}else{$links=$($link.prop("tagName")+'[rel="'+$link.attr("rel")+'"]');for(var j=0;j<$links.length;j=++j){addToAlbum($($links[j]));if($links[j]===$link[0]){imageNumber=j}}}}var top=$window.scrollTop()+this.options.positionFromTop;var left=$window.scrollLeft();this.$lightbox.css({top:top+"px",left:left+"px"}).fadeIn(this.options.fadeDuration);if(this.options.disableScrolling){$("body").addClass("lb-disable-scrolling")}this.changeImage(imageNumber)};Lightbox.prototype.changeImage=function(imageNumber){var self=this;this.disableKeyboardNav();var $image=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);$(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");var preloader=new Image;preloader.onload=function(){var $preloader;var imageHeight;var imageWidth;var maxImageHeight;var maxImageWidth;var windowHeight;var windowWidth;$image.attr("src",self.album[imageNumber].link);$preloader=$(preloader);$image.width(preloader.width);$image.height(preloader.height);if(self.options.fitImagesInViewport){windowWidth=$(window).width();windowHeight=$(window).height();maxImageWidth=windowWidth-self.containerPadding.left-self.containerPadding.right-self.imageBorderWidth.left-self.imageBorderWidth.right-20;maxImageHeight=windowHeight-self.containerPadding.top-self.containerPadding.bottom-self.imageBorderWidth.top-self.imageBorderWidth.bottom-120;if(self.options.maxWidth&&self.options.maxWidth<maxImageWidth){maxImageWidth=self.options.maxWidth}if(self.options.maxHeight&&self.options.maxHeight<maxImageWidth){maxImageHeight=self.options.maxHeight}if(preloader.width>maxImageWidth||preloader.height>maxImageHeight){if(preloader.width/maxImageWidth>preloader.height/maxImageHeight){imageWidth=maxImageWidth;imageHeight=parseInt(preloader.height/(preloader.width/imageWidth),10);$image.width(imageWidth);$image.height(imageHeight)}else{imageHeight=maxImageHeight;imageWidth=parseInt(preloader.width/(preloader.height/imageHeight),10);$image.width(imageWidth);$image.height(imageHeight)}}}self.sizeContainer($image.width(),$image.height())};preloader.src=this.album[imageNumber].link;this.currentImageIndex=imageNumber};Lightbox.prototype.sizeOverlay=function(){this.$overlay.width($(document).width()).height($(document).height())};Lightbox.prototype.sizeContainer=function(imageWidth,imageHeight){var self=this;var oldWidth=this.$outerContainer.outerWidth();var oldHeight=this.$outerContainer.outerHeight();var newWidth=imageWidth+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right;var newHeight=imageHeight+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function postResize(){self.$lightbox.find(".lb-dataContainer").width(newWidth);self.$lightbox.find(".lb-prevLink").height(newHeight);self.$lightbox.find(".lb-nextLink").height(newHeight);self.showImage()}if(oldWidth!==newWidth||oldHeight!==newHeight){this.$outerContainer.animate({width:newWidth,height:newHeight},this.options.resizeDuration,"swing",function(){postResize()})}else{postResize()}};Lightbox.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(true).hide();this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};Lightbox.prototype.updateNav=function(){var alwaysShowNav=false;try{document.createEvent("TouchEvent");alwaysShowNav=this.options.alwaysShowNavOnTouchDevices?true:false}catch(e){}this.$lightbox.find(".lb-nav").show();if(this.album.length>1){if(this.options.wrapAround){if(alwaysShowNav){this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1")}this.$lightbox.find(".lb-prev, .lb-next").show()}else{if(this.currentImageIndex>0){this.$lightbox.find(".lb-prev").show();if(alwaysShowNav){this.$lightbox.find(".lb-prev").css("opacity","1")}}if(this.currentImageIndex<this.album.length-1){this.$lightbox.find(".lb-next").show();if(alwaysShowNav){this.$lightbox.find(".lb-next").css("opacity","1")}}}}};Lightbox.prototype.updateDetails=function(){var self=this;if(typeof this.album[this.currentImageIndex].title!=="undefined"&&this.album[this.currentImageIndex].title!==""){var $caption=this.$lightbox.find(".lb-caption");if(this.options.sanitizeTitle){$caption.text(this.album[this.currentImageIndex].title)}else{$caption.html(this.album[this.currentImageIndex].title)}$caption.fadeIn("fast").find("a").on("click",function(event){if($(this).attr("target")!==undefined){window.open($(this).attr("href"),$(this).attr("target"))}else{location.href=$(this).attr("href")}})}if(this.album.length>1&&this.options.showImageNumberLabel){var labelText=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(labelText).fadeIn("fast")}else{this.$lightbox.find(".lb-number").hide()}this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return self.sizeOverlay()})};Lightbox.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var preloadNext=new Image;preloadNext.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var preloadPrev=new Image;preloadPrev.src=this.album[this.currentImageIndex-1].link}};Lightbox.prototype.enableKeyboardNav=function(){$(document).on("keyup.keyboard",$.proxy(this.keyboardAction,this))};Lightbox.prototype.disableKeyboardNav=function(){$(document).off(".keyboard")};Lightbox.prototype.keyboardAction=function(event){var KEYCODE_ESC=27;var KEYCODE_LEFTARROW=37;var KEYCODE_RIGHTARROW=39;var keycode=event.keyCode;var key=String.fromCharCode(keycode).toLowerCase();if(keycode===KEYCODE_ESC||key.match(/x|o|c/)){this.end()}else if(key==="p"||keycode===KEYCODE_LEFTARROW){if(this.currentImageIndex!==0){this.changeImage(this.currentImageIndex-1)}else if(this.options.wrapAround&&this.album.length>1){this.changeImage(this.album.length-1)}}else if(key==="n"||keycode===KEYCODE_RIGHTARROW){if(this.currentImageIndex!==this.album.length-1){this.changeImage(this.currentImageIndex+1)}else if(this.options.wrapAround&&this.album.length>1){this.changeImage(0)}}};Lightbox.prototype.end=function(){this.disableKeyboardNav();$(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);$("select, object, embed").css({visibility:"visible"});if(this.options.disableScrolling){$("body").removeClass("lb-disable-scrolling")}};return new Lightbox});!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(a,c)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=b(a,require("jquery")):a.lity=b(a,a.jQuery||a.Zepto)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a){var b=C();return O&&a.length?(a.one(O,b.resolve),setTimeout(b.resolve,500)):b.resolve(),b.promise()}function d(a,c,d){if(1===arguments.length)return b.extend({},a);if("string"==typeof c){if(void 0===d)return void 0===a[c]?null:a[c];a[c]=d}else b.extend(a,c);return this}function e(a){var b=a.indexOf("?");b>-1&&(a=a.substr(b+1));for(var c,d=decodeURI(a.split("#")[0]).split("&"),e={},f=0,g=d.length;f<g;f++)d[f]&&(c=d[f].split("="),e[c[0]]=c[1]);return e}function f(a,c){if(!c)return a;if("string"===b.type(c)&&(c=e(c)),a.indexOf("?")>-1){var d=a.split("?");a=d.shift(),c=b.extend({},e(d[0]),c)}return a+"?"+b.param(c)}function g(a,b){var c=a.indexOf("#");return-1===c?b:(c>0&&(a=a.substr(c)),b+a)}function h(a,b,c,d){return b&&b.element().addClass("lity-iframe"),c&&(a=f(a,c)),d&&(a=g(d,a)),'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+a+'"/></div>'}function i(a){return b('<span class="lity-error"/>').append(a)}function j(a,c){var d=c.opener()&&c.opener().data("lity-desc")||"Image with no description",e=b('<img src="'+a+'" alt="'+d+'"/>'),f=C(),g=function(){f.reject(i("Failed loading image"))};return e.on("load",function(){if(0===this.naturalWidth)return g();f.resolve(e)}).on("error",g),f.promise()}function k(a,c){var d,e,f;try{d=b(a)}catch(a){return!1}return!!d.length&&(e=b('<i style="display:none !important"/>'),f=d.hasClass("lity-hide"),c.element().one("lity:remove",function(){e.before(d).remove(),f&&!d.closest(".lity-content").length&&d.addClass("lity-hide")}),d.removeClass("lity-hide").after(e))}function l(a,b){var c=K.exec(a);return!!c&&h("https://www.youtube"+(c[2]||"")+".com/embed/"+c[4]+"?autoplay=1",b,c[5],a)}function m(a,b){var c=L.exec(a);return!!c&&h("https://player.vimeo.com/video/"+c[3]+"?autoplay=1",b,c[4],a)}function n(a,b){var c=N.exec(a);return!!c&&(0!==a.indexOf("http")&&(a="https:"+a),h("https://www.facebook.com/plugins/video.php?href="+a+"&autoplay=1",b,c[4],a))}function o(a,b){var c=M.exec(a);return!!c&&h("https://www.google."+c[3]+"/maps?"+c[6],b,{output:c[6].indexOf("layer=c")>0?"svembed":"embed"},a)}function p(a,b){return h(a,b)}function q(){return A.documentElement.clientHeight?A.documentElement.clientHeight:Math.round(B.height())}function r(a){var b=w();b&&(27===a.keyCode&&b.options("esc")&&b.close(),9===a.keyCode&&s(a,b))}function s(a,b){var c=b.element().find(H),d=c.index(A.activeElement);a.shiftKey&&d<=0?(c.get(c.length-1).focus(),a.preventDefault()):a.shiftKey||d!==c.length-1||(c.get(0).focus(),a.preventDefault())}function t(){b.each(E,function(a,b){b.resize()})}function u(a){1===E.unshift(a)&&(D.addClass("lity-active"),B.on({resize:t,keydown:r})),b("body > *").not(a.element()).addClass("lity-hidden").each(function(){var a=b(this);void 0===a.data(G)&&a.data(G,a.attr(F)||null)}).attr(F,"true")}function v(a){var c;a.element().attr(F,"true"),1===E.length&&(D.removeClass("lity-active"),B.off({resize:t,keydown:r})),E=b.grep(E,function(b){return a!==b}),c=E.length?E[0].element():b(".lity-hidden"),c.removeClass("lity-hidden").each(function(){var a=b(this),c=a.data(G);c?a.attr(F,c):a.removeAttr(F),a.removeData(G)})}function w(){return 0===E.length?null:E[0]}function x(a,c,d,e){var f,g="inline",h=b.extend({},d);return e&&h[e]?(f=h[e](a,c),g=e):(b.each(["inline","iframe"],function(a,b){delete h[b],h[b]=d[b]}),b.each(h,function(b,d){return!d||(!(!d.test||d.test(a,c))||(f=d(a,c),!1!==f?(g=b,!1):void 0))})),{handler:g,content:f||""}}function y(a,e,f,g){function h(a){k=b(a).css("max-height",q()+"px"),j.find(".lity-loader").each(function(){var a=b(this);c(a).always(function(){a.remove()})}),j.removeClass("lity-loading").find(".lity-content").empty().append(k),m=!0,k.trigger("lity:ready",[l])}var i,j,k,l=this,m=!1,n=!1;e=b.extend({},I,e),j=b(e.template),l.element=function(){return j},l.opener=function(){return f},l.content=function(){return k},l.options=b.proxy(d,l,e),l.handlers=b.proxy(d,l,e.handlers),l.resize=function(){m&&!n&&k.css("max-height",q()+"px").trigger("lity:resize",[l])},l.close=function(){if(m&&!n){n=!0,v(l);var a=C();if(g&&(A.activeElement===j[0]||b.contains(j[0],A.activeElement)))try{g.focus()}catch(a){}return k.trigger("lity:close",[l]),j.removeClass("lity-opened").addClass("lity-closed"),c(k.add(j)).always(function(){k.trigger("lity:remove",[l]),j.remove(),j=void 0,a.resolve()}),a.promise()}},i=x(a,l,e.handlers,e.handler),j.attr(F,"false").addClass("lity-loading lity-opened lity-"+i.handler).appendTo("body").focus().on("click","[data-lity-close]",function(a){b(a.target).is("[data-lity-close]")&&l.close()}).trigger("lity:open",[l]),u(l),b.when(i.content).always(h)}function z(a,c,d){a.preventDefault?(a.preventDefault(),d=b(this),a=d.data("lity-target")||d.attr("href")||d.attr("src")):d=b(d);var e=new y(a,b.extend({},d.data("lity-options")||d.data("lity"),c),d,A.activeElement);if(!a.preventDefault)return e}var A=a.document,B=b(a),C=b.Deferred,D=b("html"),E=[],F="aria-hidden",G="lity-"+F,H='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',I={esc:!0,handler:null,handlers:{image:j,inline:k,youtube:l,vimeo:m,googlemaps:o,facebookvideo:n,iframe:p},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},J=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,K=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,L=/(vimeo(pro)?\.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,M=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,N=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,O=function(){var a=A.createElement("div"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return b[c];return!1}();return j.test=function(a){return J.test(a)},z.version="3.0.0-dev",z.options=b.proxy(d,z,I),z.handlers=b.proxy(d,z,I.handlers),z.current=w,z.iframe=h,b(A).on("click.lity","[data-lity]",z),z});(function(window){"use strict";var mixitup=null,h=null,jq=null;(function(){var VENDORS=["webkit","moz","o","ms"],canary=window.document.createElement("div"),i=-1;for(i=0;i<VENDORS.length&&!window.requestAnimationFrame;i++){window.requestAnimationFrame=window[VENDORS[i]+"RequestAnimationFrame"]}if(typeof canary.nextElementSibling==="undefined"){Object.defineProperty(window.Element.prototype,"nextElementSibling",{get:function(){var el=this.nextSibling;while(el){if(el.nodeType===1){return el}el=el.nextSibling}return null}})}(function(ElementPrototype){ElementPrototype.matches=ElementPrototype.matches||ElementPrototype.machesSelector||ElementPrototype.mozMatchesSelector||ElementPrototype.msMatchesSelector||ElementPrototype.oMatchesSelector||ElementPrototype.webkitMatchesSelector||function(selector){return Array.prototype.indexOf.call(this.parentElement.querySelectorAll(selector),this)>-1}})(window.Element.prototype);if(!Object.keys){Object.keys=function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=false,dontEnums=[],dontEnumsLength=-1;hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString");dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];dontEnumsLength=dontEnums.length;return function(obj){var result=[],prop="",i=-1;if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null)){throw new TypeError("Object.keys called on non-object")}for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}return result}}()}if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"}}if(typeof Object.create!=="function"){Object.create=function(undefined){var Temp=function(){};return function(prototype,propertiesObject){if(prototype!==Object(prototype)&&prototype!==null){throw TypeError("Argument must be an object, or null")}Temp.prototype=prototype||{};var result=new Temp;Temp.prototype=null;if(propertiesObject!==undefined){Object.defineProperties(result,propertiesObject)}if(prototype===null){result.__proto__=null}return result}}()}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){var n,k,t,len;if(this===null){throw new TypeError}t=Object(this);len=t.length>>>0;if(len===0){return-1}n=0;if(arguments.length>1){n=Number(arguments[1]);if(n!==n){n=0}else if(n!==0&&n!==Infinity&&n!==-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=len){return-1}for(k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++){if(k in t&&t[k]===searchElement){return k}}return-1}}if(!Function.prototype.bind){Function.prototype.bind=function(oThis){var aArgs,self,FNOP,fBound;if(typeof this!=="function"){throw new TypeError}aArgs=Array.prototype.slice.call(arguments,1);self=this;FNOP=function(){};fBound=function(){return self.apply(this instanceof FNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};if(this.prototype){FNOP.prototype=this.prototype}fBound.prototype=new FNOP;return fBound}}if(!window.Element.prototype.dispatchEvent){window.Element.prototype.dispatchEvent=function(event){try{return this.fireEvent("on"+event.type,event)}catch(err){}}}})();mixitup=function(container,config,foreignDoc){var el=null,returnCollection=false,instance=null,facade=null,doc=null,output=null,instances=[],id="",elements=[],i=-1;doc=foreignDoc||window.document;if(returnCollection=arguments[3]){returnCollection=typeof returnCollection==="boolean"}if(typeof container==="string"){elements=doc.querySelectorAll(container)}else if(container&&typeof container==="object"&&h.isElement(container,doc)){elements=[container]}else if(container&&typeof container==="object"&&container.length){elements=container}else{throw new Error(mixitup.messages.errorFactoryInvalidContainer())}if(elements.length<1){throw new Error(mixitup.messages.errorFactoryContainerNotFound())}for(i=0;el=elements[i];i++){if(i>0&&!returnCollection)break;if(!el.id){id="MixItUp"+h.randomHex();el.id=id}else{id=el.id}if(mixitup.instances[id]instanceof mixitup.Mixer){instance=mixitup.instances[id];if(!config||config&&config.debug&&config.debug.showWarnings!==false){console.warn(mixitup.messages.warningFactoryPreexistingInstance())}}else{instance=new mixitup.Mixer;instance.attach(el,doc,id,config);mixitup.instances[id]=instance}facade=new mixitup.Facade(instance);if(config&&config.debug&&config.debug.enable){instances.push(instance)}else{instances.push(facade)}}if(returnCollection){output=new mixitup.Collection(instances)}else{output=instances[0]}return output};mixitup.use=function(extension){mixitup.Base.prototype.callActions.call(mixitup,"beforeUse",arguments);if(typeof extension==="function"&&extension.TYPE==="mixitup-extension"){if(typeof mixitup.extensions[extension.NAME]==="undefined"){extension(mixitup);mixitup.extensions[extension.NAME]=extension}}else if(extension.fn&&extension.fn.jquery){mixitup.libraries.$=extension;mixitup.registerJqPlugin(extension)}mixitup.Base.prototype.callActions.call(mixitup,"afterUse",arguments)};mixitup.registerJqPlugin=function($){$.fn.mixItUp=function(){var method=arguments[0],config=arguments[1],args=Array.prototype.slice.call(arguments,1),outputs=[],chain=[];chain=this.each(function(){var instance=null,output=null;if(method&&typeof method==="string"){instance=mixitup.instances[this.id];output=instance[method].apply(instance,args);if(typeof output!=="undefined"&&output!==null&&typeof output.then!=="function")outputs.push(output)}else{mixitup(this,config)}});if(outputs.length){return outputs.length>1?outputs:outputs[0]}else{return chain}}};mixitup.instances={};mixitup.extensions={};mixitup.libraries={};h={hasClass:function(el,cls){return!!el.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"))},addClass:function(el,cls){if(!this.hasClass(el,cls))el.className+=el.className?" "+cls:cls},removeClass:function(el,cls){if(this.hasClass(el,cls)){var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");el.className=el.className.replace(reg," ").trim()}},extend:function(destination,source,deep,handleErrors){var sourceKeys=[],key="",i=-1;deep=deep||false;handleErrors=handleErrors||false;try{if(Array.isArray(source)){for(i=0;i<source.length;i++){sourceKeys.push(i)}}else if(source){sourceKeys=Object.keys(source)}for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(!deep||typeof source[key]!=="object"||this.isElement(source[key])){destination[key]=source[key]}else if(Array.isArray(source[key])){if(!destination[key]){destination[key]=[]}this.extend(destination[key],source[key],deep,handleErrors)}else{if(!destination[key]){destination[key]={}}this.extend(destination[key],source[key],deep,handleErrors)}}}catch(err){if(handleErrors){this.handleExtendError(err,destination)}else{throw err}}return destination},handleExtendError:function(err,destination){var re=/property "?(\w*)"?[,:] object/i,matches=null,erroneous="",message="",suggestion="",probableMatch="",key="",mostMatchingChars=-1,i=-1;if(err instanceof TypeError&&(matches=re.exec(err.message))){erroneous=matches[1];for(key in destination){i=0;while(i<erroneous.length&&erroneous.charAt(i)===key.charAt(i)){i++}if(i>mostMatchingChars){mostMatchingChars=i;probableMatch=key}}if(mostMatchingChars>1){suggestion=mixitup.messages.errorConfigInvalidPropertySuggestion({probableMatch:probableMatch})}message=mixitup.messages.errorConfigInvalidProperty({erroneous:erroneous,suggestion:suggestion});throw new TypeError(message)}throw err},template:function(str){var re=/\${([\w]*)}/g,dynamics={},matches=null;while(matches=re.exec(str)){dynamics[matches[1]]=new RegExp("\\${"+matches[1]+"}","g")}return function(data){var key="",output=str;data=data||{};for(key in dynamics){output=output.replace(dynamics[key],typeof data[key]!=="undefined"?data[key]:"")}return output}},on:function(el,type,fn,useCapture){if(!el)return;if(el.addEventListener){el.addEventListener(type,fn,useCapture)}else if(el.attachEvent){el["e"+type+fn]=fn;el[type+fn]=function(){el["e"+type+fn](window.event)};el.attachEvent("on"+type,el[type+fn])}},off:function(el,type,fn){if(!el)return;if(el.removeEventListener){el.removeEventListener(type,fn,false)}else if(el.detachEvent){el.detachEvent("on"+type,el[type+fn]);el[type+fn]=null}},getCustomEvent:function(eventType,detail,doc){var event=null;doc=doc||window.document;if(typeof window.CustomEvent==="function"){event=new window.CustomEvent(eventType,{detail:detail,bubbles:true,cancelable:true})}else if(typeof doc.createEvent==="function"){event=doc.createEvent("CustomEvent");event.initCustomEvent(eventType,true,true,detail)}else{event=doc.createEventObject(),event.type=eventType;event.returnValue=false;event.cancelBubble=false;event.detail=detail}return event},getOriginalEvent:function(e){if(e.touches&&e.touches.length){return e.touches[0]}else if(e.changedTouches&&e.changedTouches.length){return e.changedTouches[0]}else{return e}},index:function(el,selector){var i=0;while((el=el.previousElementSibling)!==null){if(!selector||el.matches(selector)){++i}}return i},camelCase:function(str){return str.toLowerCase().replace(/([_-][a-z])/g,function($1){return $1.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(str){return(str=this.camelCase(str)).charAt(0).toUpperCase()+str.slice(1)},dashCase:function(str){return str.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(el,doc){doc=doc||window.document;if(window.HTMLElement&&el instanceof window.HTMLElement){return true}else if(doc.defaultView&&doc.defaultView.HTMLElement&&el instanceof doc.defaultView.HTMLElement){return true}else{return el!==null&&el.nodeType===1&&typeof el.nodeName==="string"}},createElement:function(htmlString,doc){var frag=null,temp=null;doc=doc||window.document;frag=doc.createDocumentFragment();temp=doc.createElement("div");temp.innerHTML=htmlString;while(temp.firstChild){frag.appendChild(temp.firstChild)}return frag},removeWhitespace:function(node){var deleting;while(node&&node.nodeName==="#text"){deleting=node;node=node.previousSibling;deleting.parentElement&&deleting.parentElement.removeChild(deleting)}},isEqualArray:function(a,b){var i=a.length;if(i!==b.length)return false;while(i--){if(a[i]!==b[i])return false}return true},deepEquals:function(a,b){var key;if(typeof a==="object"&&a&&typeof b==="object"&&b){if(Object.keys(a).length!==Object.keys(b).length)return false;for(key in a){if(!b.hasOwnProperty(key)||!this.deepEquals(a[key],b[key]))return false}}else if(a!==b){return false}return true},arrayShuffle:function(oldArray){var newArray=oldArray.slice(),len=newArray.length,i=len,p=-1,t=[];while(i--){p=~~(Math.random()*len);t=newArray[i];newArray[i]=newArray[p];newArray[p]=t}return newArray},arrayFromList:function(list){var output,i;try{return Array.prototype.slice.call(list)}catch(err){output=[];for(i=0;i<list.length;i++){output.push(list[i])}return output}},debounce:function(func,wait,immediate){var timeout;return function(){var self=this,args=arguments,callNow=immediate&&!timeout,later=null;later=function(){timeout=null;if(!immediate){func.apply(self,args)}};clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(self,args)}},position:function(element){var xPosition=0,yPosition=0,offsetParent=element;while(element){xPosition-=element.scrollLeft;yPosition-=element.scrollTop;if(element===offsetParent){xPosition+=element.offsetLeft;yPosition+=element.offsetTop;offsetParent=element.offsetParent}element=element.parentElement}return{x:xPosition,y:yPosition}},getHypotenuse:function(node1,node2){var distanceX=node1.x-node2.x,distanceY=node1.y-node2.y;distanceX=distanceX<0?distanceX*-1:distanceX,distanceY=distanceY<0?distanceY*-1:distanceY;return Math.sqrt(Math.pow(distanceX,2)+Math.pow(distanceY,2))},getIntersectionRatio:function(box1,box2){var controlArea=box1.width*box1.height,intersectionX=-1,intersectionY=-1,intersectionArea=-1,ratio=-1;intersectionX=Math.max(0,Math.min(box1.left+box1.width,box2.left+box2.width)-Math.max(box1.left,box2.left));intersectionY=Math.max(0,Math.min(box1.top+box1.height,box2.top+box2.height)-Math.max(box1.top,box2.top));intersectionArea=intersectionY*intersectionX;ratio=intersectionArea/controlArea;return ratio},closestParent:function(el,selector,includeSelf,doc){var parent=el.parentNode;doc=doc||window.document;if(includeSelf&&el.matches(selector)){return el}while(parent&&parent!=doc.body){if(parent.matches&&parent.matches(selector)){return parent}else if(parent.parentNode){parent=parent.parentNode}else{return null}}return null},children:function(el,selector,doc){var children=[],tempId="";doc=doc||window.doc;if(el){if(!el.id){tempId="Temp"+this.randomHexKey();el.id=tempId}children=doc.querySelectorAll("#"+el.id+" > "+selector);if(tempId){el.removeAttribute("id")}}return children},clean:function(originalArray){var cleanArray=[],i=-1;for(i=0;i<originalArray.length;i++){if(originalArray[i]!==""){cleanArray.push(originalArray[i])}}return cleanArray},defer:function(libraries){var deferred=null,promiseWrapper=null,$=null;promiseWrapper=new this.Deferred;if(mixitup.features.has.promises){promiseWrapper.promise=new Promise(function(resolve,reject){promiseWrapper.resolve=resolve;promiseWrapper.reject=reject})}else if(($=window.jQuery||libraries.$)&&typeof $.Deferred==="function"){deferred=$.Deferred();promiseWrapper.promise=deferred.promise();promiseWrapper.resolve=deferred.resolve;promiseWrapper.reject=deferred.reject}else if(window.console){console.warn(mixitup.messages.warningNoPromiseImplementation())}return promiseWrapper},all:function(tasks,libraries){var $=null;if(mixitup.features.has.promises){return Promise.all(tasks)}else if(($=window.jQuery||libraries.$)&&typeof $.when==="function"){return $.when.apply($,tasks).done(function(){return arguments})}if(window.console){console.warn(mixitup.messages.warningNoPromiseImplementation())}return[]},getPrefix:function(el,property,vendors){var i=-1,prefix="";if(h.dashCase(property)in el.style)return"";for(i=0;prefix=vendors[i];i++){if(prefix+property in el.style){return prefix.toLowerCase()}}return"unsupported"},randomHex:function(){return("00000"+(Math.random()*16777216<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(doc){doc=typeof doc.body==="object"?doc:window.document;return{scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,docHeight:doc.documentElement.scrollHeight}},bind:function(obj,fn){return function(){return fn.apply(obj,arguments)}},isVisible:function(el){var styles=null;if(el.offsetParent)return true;styles=window.getComputedStyle(el);if(styles.position==="fixed"&&styles.visibility!=="hidden"&&styles.opacity!=="0"){return true}return false},seal:function(obj){if(typeof Object.seal==="function"){Object.seal(obj)}},freeze:function(obj){if(typeof Object.freeze==="function"){Object.freeze(obj)}},compareVersions:function(control,specimen){var controlParts=control.split("."),specimenParts=specimen.split("."),controlPart=-1,specimenPart=-1,i=-1;for(i=0;i<controlParts.length;i++){controlPart=parseInt(controlParts[i].replace(/[^\d.]/g,""));specimenPart=parseInt(specimenParts[i].replace(/[^\d.]/g,"")||0);if(specimenPart<controlPart){return false}else if(specimenPart>controlPart){return true}}return true},Deferred:function(){this.promise=null;this.resolve=null;this.reject=null;this.id=h.randomHex()},isEmptyObject:function(obj){var key="";if(typeof Object.keys==="function"){return Object.keys(obj).length===0}for(key in obj){if(obj.hasOwnProperty(key)){return false}}return true},getClassname:function(classNames,elementName,modifier){var classname="";classname+=classNames.block;if(classname.length){classname+=classNames.delineatorElement}classname+=classNames["element"+this.pascalCase(elementName)];if(!modifier)return classname;if(classname.length){classname+=classNames.delineatorModifier}classname+=modifier;return classname},getProperty:function(obj,stringKey){var parts=stringKey.split("."),returnCurrent=null,current="",i=0;if(!stringKey){return obj}returnCurrent=function(obj){if(!obj){return null}else{return obj[current]}};while(i<parts.length){current=parts[i];obj=returnCurrent(obj);i++}if(typeof obj!=="undefined"){return obj}else{return null}}};mixitup.h=h;mixitup.Base=function(){};mixitup.Base.prototype={constructor:mixitup.Base,callActions:function(actionName,args){var self=this,hooks=self.constructor.actions[actionName],extensionName="";if(!hooks||h.isEmptyObject(hooks))return;for(extensionName in hooks){hooks[extensionName].apply(self,args)}},callFilters:function(filterName,input,args){var self=this,hooks=self.constructor.filters[filterName],output=input,extensionName="";if(!hooks||h.isEmptyObject(hooks))return output;args=args||[];for(extensionName in hooks){args=h.arrayFromList(args);args.unshift(output);output=hooks[extensionName].apply(self,args)}return output}};mixitup.BaseStatic=function(){this.actions={};this.filters={};this.extend=function(extension){h.extend(this.prototype,extension)};this.registerAction=function(hookName,extensionName,func){(this.actions[hookName]=this.actions[hookName]||{})[extensionName]=func};this.registerFilter=function(hookName,extensionName,func){(this.filters[hookName]=this.filters[hookName]||{})[extensionName]=func}};mixitup.Features=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.boxSizingPrefix="";this.transformPrefix="";this.transitionPrefix="";this.boxSizingPrefix="";this.transformProp="";this.transformRule="";this.transitionProp="";this.perspectiveProp="";this.perspectiveOriginProp="";this.has=new mixitup.Has;this.canary=null;this.BOX_SIZING_PROP="boxSizing";this.TRANSITION_PROP="transition";this.TRANSFORM_PROP="transform";this.PERSPECTIVE_PROP="perspective";this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin";this.VENDORS=["Webkit","moz","O","ms"];this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"];this.callActions("afterConstruct")};mixitup.BaseStatic.call(mixitup.Features);mixitup.Features.prototype=Object.create(mixitup.Base.prototype);h.extend(mixitup.Features.prototype,{constructor:mixitup.Features,init:function(){var self=this;self.callActions("beforeInit",arguments);self.canary=document.createElement("div");self.setPrefixes();self.runTests();self.callActions("beforeInit",arguments)},runTests:function(){var self=this;self.callActions("beforeRunTests",arguments);self.has.promises=typeof window.Promise==="function";self.has.transitions=self.transitionPrefix!=="unsupported";self.callActions("afterRunTests",arguments);h.freeze(self.has)},setPrefixes:function(){var self=this;self.callActions("beforeSetPrefixes",arguments);self.transitionPrefix=h.getPrefix(self.canary,"Transition",self.VENDORS);self.transformPrefix=h.getPrefix(self.canary,"Transform",self.VENDORS);self.boxSizingPrefix=h.getPrefix(self.canary,"BoxSizing",self.VENDORS);self.boxSizingProp=self.boxSizingPrefix?self.boxSizingPrefix+h.pascalCase(self.BOX_SIZING_PROP):self.BOX_SIZING_PROP;self.transitionProp=self.transitionPrefix?self.transitionPrefix+h.pascalCase(self.TRANSITION_PROP):self.TRANSITION_PROP;self.transformProp=self.transformPrefix?self.transformPrefix+h.pascalCase(self.TRANSFORM_PROP):self.TRANSFORM_PROP;self.transformRule=self.transformPrefix?"-"+self.transformPrefix+"-"+self.TRANSFORM_PROP:self.TRANSFORM_PROP;self.perspectiveProp=self.transformPrefix?self.transformPrefix+h.pascalCase(self.PERSPECTIVE_PROP):self.PERSPECTIVE_PROP;self.perspectiveOriginProp=self.transformPrefix?self.transformPrefix+h.pascalCase(self.PERSPECTIVE_ORIGIN_PROP):self.PERSPECTIVE_ORIGIN_PROP;self.callActions("afterSetPrefixes",arguments)}});mixitup.Has=function(){this.transitions=false;this.promises=false;h.seal(this)};mixitup.features=new mixitup.Features;mixitup.features.init();mixitup.ConfigAnimation=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.enable=true;this.effects="fade scale";this.effectsIn="";this.effectsOut="";this.duration=600;this.easing="ease";this.applyPerspective=true;this.perspectiveDistance="3000px";this.perspectiveOrigin="50% 50%";this.queue=true;this.queueLimit=3;this.animateResizeContainer=true;this.animateResizeTargets=false;this.staggerSequence=null;this.reverseOut=false;this.nudge=true;this.clampHeight=true;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigAnimation);mixitup.ConfigAnimation.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigAnimation.prototype.constructor=mixitup.ConfigAnimation;mixitup.ConfigCallbacks=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.onMixStart=null;this.onMixBusy=null;this.onMixEnd=null;this.onMixFail=null;this.onMixClick=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigCallbacks);mixitup.ConfigCallbacks.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigCallbacks.prototype.constructor=mixitup.ConfigCallbacks;mixitup.ConfigControls=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.enable=true;this.live=false;this.scope="global";this.toggleLogic="or";this.toggleDefault="all";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigControls);mixitup.ConfigControls.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigControls.prototype.constructor=mixitup.ConfigControls;mixitup.ConfigClassNames=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.block="mixitup";this.elementContainer="container";this.elementFilter="control";this.elementSort="control";this.elementMultimix="control";this.elementToggle="control";this.modifierActive="active";this.modifierDisabled="disabled";this.modifierFailed="failed";this.delineatorElement="-";this.delineatorModifier="-";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigClassNames);mixitup.ConfigClassNames.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigClassNames.prototype.constructor=mixitup.ConfigClassNames;mixitup.ConfigData=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.uidKey="";this.dirtyCheck=false;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigData);mixitup.ConfigData.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigData.prototype.constructor=mixitup.ConfigData;mixitup.ConfigDebug=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.enable=false;this.showWarnings=true;this.fauxAsync=false;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigDebug);mixitup.ConfigDebug.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigDebug.prototype.constructor=mixitup.ConfigDebug;mixitup.ConfigLayout=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.allowNestedTargets=true;this.containerClassName="";this.siblingBefore=null;this.siblingAfter=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigLayout);mixitup.ConfigLayout.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigLayout.prototype.constructor=mixitup.ConfigLayout;mixitup.ConfigLoad=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.filter="all";this.sort="default:asc";this.dataset=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigLoad);mixitup.ConfigLoad.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigLoad.prototype.constructor=mixitup.ConfigLoad;mixitup.ConfigSelectors=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.target=".mix";this.control="";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigSelectors);mixitup.ConfigSelectors.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigSelectors.prototype.constructor=mixitup.ConfigSelectors;mixitup.ConfigRender=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.target=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigRender);mixitup.ConfigRender.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigRender.prototype.constructor=mixitup.ConfigRender;mixitup.ConfigTemplates=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.ConfigTemplates);mixitup.ConfigTemplates.prototype=Object.create(mixitup.Base.prototype);mixitup.ConfigTemplates.prototype.constructor=mixitup.ConfigTemplates;mixitup.Config=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.animation=new mixitup.ConfigAnimation;this.callbacks=new mixitup.ConfigCallbacks;this.controls=new mixitup.ConfigControls;this.classNames=new mixitup.ConfigClassNames;this.data=new mixitup.ConfigData;this.debug=new mixitup.ConfigDebug;this.layout=new mixitup.ConfigLayout;this.load=new mixitup.ConfigLoad;this.selectors=new mixitup.ConfigSelectors;this.render=new mixitup.ConfigRender;this.templates=new mixitup.ConfigTemplates;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.Config);mixitup.Config.prototype=Object.create(mixitup.Base.prototype);mixitup.Config.prototype.constructor=mixitup.Config;mixitup.MixerDom=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.document=null;this.body=null;this.container=null;this.parent=null;this.targets=[];this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.MixerDom);mixitup.MixerDom.prototype=Object.create(mixitup.Base.prototype);mixitup.MixerDom.prototype.constructor=mixitup.MixerDom;mixitup.UiClassNames=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.base="";this.active="";this.disabled="";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.UiClassNames);mixitup.UiClassNames.prototype=Object.create(mixitup.Base.prototype);mixitup.UiClassNames.prototype.constructor=mixitup.UiClassNames;mixitup.CommandDataset=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.dataset=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandDataset);mixitup.CommandDataset.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandDataset.prototype.constructor=mixitup.CommandDataset;mixitup.CommandMultimix=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.filter=null;this.sort=null;this.insert=null;this.remove=null;this.changeLayout=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandMultimix);mixitup.CommandMultimix.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandMultimix.prototype.constructor=mixitup.CommandMultimix;mixitup.CommandFilter=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.selector="";this.collection=null;this.action="show";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandFilter);mixitup.CommandFilter.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandFilter.prototype.constructor=mixitup.CommandFilter;mixitup.CommandSort=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.sortString="";this.attribute="";this.order="asc";this.collection=null;this.next=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandSort);mixitup.CommandSort.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandSort.prototype.constructor=mixitup.CommandSort;mixitup.CommandInsert=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.index=0;this.collection=[];this.position="before";this.sibling=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandInsert);mixitup.CommandInsert.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandInsert.prototype.constructor=mixitup.CommandInsert;mixitup.CommandRemove=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.targets=[];this.collection=[];this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandRemove);mixitup.CommandRemove.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandRemove.prototype.constructor=mixitup.CommandRemove;mixitup.CommandChangeLayout=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.containerClassName="";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.CommandChangeLayout);mixitup.CommandChangeLayout.prototype=Object.create(mixitup.Base.prototype);mixitup.CommandChangeLayout.prototype.constructor=mixitup.CommandChangeLayout;mixitup.ControlDefinition=function(type,selector,live,parent){mixitup.Base.call(this);this.callActions("beforeConstruct");this.type=type;this.selector=selector;this.live=live||false;this.parent=parent||"";this.callActions("afterConstruct");h.freeze(this);h.seal(this)};mixitup.BaseStatic.call(mixitup.ControlDefinition);mixitup.ControlDefinition.prototype=Object.create(mixitup.Base.prototype);mixitup.ControlDefinition.prototype.constructor=mixitup.ControlDefinition;mixitup.controlDefinitions=[];mixitup.controlDefinitions.push(new mixitup.ControlDefinition("multimix","[data-filter][data-sort]"));mixitup.controlDefinitions.push(new mixitup.ControlDefinition("filter","[data-filter]"));mixitup.controlDefinitions.push(new mixitup.ControlDefinition("sort","[data-sort]"));mixitup.controlDefinitions.push(new mixitup.ControlDefinition("toggle","[data-toggle]"));mixitup.Control=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.el=null;this.selector="";this.bound=[];this.pending=-1;this.type="";this.status="inactive";this.filter="";this.sort="";this.canDisable=false;this.handler=null;this.classNames=new mixitup.UiClassNames;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.Control);mixitup.Control.prototype=Object.create(mixitup.Base.prototype);h.extend(mixitup.Control.prototype,{constructor:mixitup.Control,init:function(el,type,selector){var self=this;this.callActions("beforeInit",arguments);self.el=el;self.type=type;self.selector=selector;if(self.selector){self.status="live"}else{self.canDisable=typeof self.el.disable==="boolean";switch(self.type){case"filter":self.filter=self.el.getAttribute("data-filter");break;case"toggle":self.filter=self.el.getAttribute("data-toggle");break;case"sort":self.sort=self.el.getAttribute("data-sort");break;case"multimix":self.filter=self.el.getAttribute("data-filter");self.sort=self.el.getAttribute("data-sort");break}}self.bindClick();mixitup.controls.push(self);this.callActions("afterInit",arguments)},isBound:function(mixer){var self=this,isBound=false;this.callActions("beforeIsBound",arguments);isBound=self.bound.indexOf(mixer)>-1;return self.callFilters("afterIsBound",isBound,arguments)},addBinding:function(mixer){var self=this;this.callActions("beforeAddBinding",arguments);if(!self.isBound()){self.bound.push(mixer)}this.callActions("afterAddBinding",arguments)},removeBinding:function(mixer){var self=this,removeIndex=-1;this.callActions("beforeRemoveBinding",arguments);if((removeIndex=self.bound.indexOf(mixer))>-1){self.bound.splice(removeIndex,1)}if(self.bound.length<1){self.unbindClick();removeIndex=mixitup.controls.indexOf(self);mixitup.controls.splice(removeIndex,1);if(self.status==="active"){self.renderStatus(self.el,"inactive")}}this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var self=this;this.callActions("beforeBindClick",arguments);self.handler=function(e){self.handleClick(e)};h.on(self.el,"click",self.handler);this.callActions("afterBindClick",arguments)},unbindClick:function(){var self=this;this.callActions("beforeUnbindClick",arguments);h.off(self.el,"click",self.handler);self.handler=null;this.callActions("afterUnbindClick",arguments)},handleClick:function(e){var self=this,button=null,mixer=null,isActive=false,returnValue=void 0,command={},clone=null,commands=[],i=-1;this.callActions("beforeHandleClick",arguments);this.pending=0;mixer=self.bound[0];if(!self.selector){button=self.el}else{button=h.closestParent(e.target,mixer.config.selectors.control+self.selector,true,mixer.dom.document)}if(!button){self.callActions("afterHandleClick",arguments);return}switch(self.type){case"filter":command.filter=self.filter||button.getAttribute("data-filter");break;case"sort":command.sort=self.sort||button.getAttribute("data-sort");break;case"multimix":command.filter=self.filter||button.getAttribute("data-filter");command.sort=self.sort||button.getAttribute("data-sort");break;case"toggle":command.filter=self.filter||button.getAttribute("data-toggle");if(self.status==="live"){isActive=h.hasClass(button,self.classNames.active)}else{isActive=self.status==="active"}break}for(i=0;i<self.bound.length;i++){clone=new mixitup.CommandMultimix;h.extend(clone,command);commands.push(clone)}commands=self.callFilters("commandsHandleClick",commands,arguments);self.pending=self.bound.length;for(i=0;mixer=self.bound[i];i++){command=commands[i];if(!command){continue}if(!mixer.lastClicked){mixer.lastClicked=button}mixitup.events.fire("mixClick",mixer.dom.container,{state:mixer.state,instance:mixer,originalEvent:e,control:mixer.lastClicked},mixer.dom.document);if(typeof mixer.config.callbacks.onMixClick==="function"){returnValue=mixer.config.callbacks.onMixClick.call(mixer.lastClicked,mixer.state,e,mixer);if(returnValue===false){continue}}if(self.type==="toggle"){isActive?mixer.toggleOff(command.filter):mixer.toggleOn(command.filter)}else{mixer.multimix(command)}}this.callActions("afterHandleClick",arguments)},update:function(command,toggleArray){var self=this,actions=new mixitup.CommandMultimix;self.callActions("beforeUpdate",arguments);self.pending--;self.pending=Math.max(0,self.pending);if(self.pending>0)return;if(self.status==="live"){self.updateLive(command,toggleArray)}else{actions.sort=self.sort;actions.filter=self.filter;self.callFilters("actionsUpdate",actions,arguments);self.parseStatusChange(self.el,command,actions,toggleArray)}self.callActions("afterUpdate",arguments)},updateLive:function(command,toggleArray){var self=this,controlButtons=null,actions=null,button=null,i=-1;self.callActions("beforeUpdateLive",arguments);if(!self.el)return;controlButtons=self.el.querySelectorAll(self.selector);for(i=0;button=controlButtons[i];i++){actions=new mixitup.CommandMultimix;switch(self.type){case"filter":actions.filter=button.getAttribute("data-filter");break;case"sort":actions.sort=button.getAttribute("data-sort");break;case"multimix":actions.filter=button.getAttribute("data-filter");actions.sort=button.getAttribute("data-sort");break;case"toggle":actions.filter=button.getAttribute("data-toggle");break}actions=self.callFilters("actionsUpdateLive",actions,arguments);self.parseStatusChange(button,command,actions,toggleArray)}self.callActions("afterUpdateLive",arguments)},parseStatusChange:function(button,command,actions,toggleArray){var self=this,alias="",toggle="",i=-1;self.callActions("beforeParseStatusChange",arguments);switch(self.type){case"filter":if(command.filter===actions.filter){self.renderStatus(button,"active")}else{self.renderStatus(button,"inactive")}break;case"multimix":if(command.sort===actions.sort&&command.filter===actions.filter){self.renderStatus(button,"active")}else{self.renderStatus(button,"inactive")}break;case"sort":if(command.sort.match(/:asc/g)){alias=command.sort.replace(/:asc/g,"")}if(command.sort===actions.sort||alias===actions.sort){self.renderStatus(button,"active")}else{self.renderStatus(button,"inactive")}break;case"toggle":if(toggleArray.length<1)self.renderStatus(button,"inactive");if(command.filter===actions.filter){self.renderStatus(button,"active")}for(i=0;i<toggleArray.length;i++){toggle=toggleArray[i];if(toggle===actions.filter){self.renderStatus(button,"active");break}self.renderStatus(button,"inactive")}break}self.callActions("afterParseStatusChange",arguments)},renderStatus:function(button,status){var self=this;self.callActions("beforeRenderStatus",arguments);switch(status){case"active":h.addClass(button,self.classNames.active);h.removeClass(button,self.classNames.disabled);if(self.canDisable)self.el.disabled=false;break;case"inactive":h.removeClass(button,self.classNames.active);h.removeClass(button,self.classNames.disabled);if(self.canDisable)self.el.disabled=false;break;case"disabled":if(self.canDisable)self.el.disabled=true;h.addClass(button,self.classNames.disabled);h.removeClass(button,self.classNames.active);break}if(self.status!=="live"){self.status=status}self.callActions("afterRenderStatus",arguments)}});mixitup.controls=[];mixitup.StyleData=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.x=0;this.y=0;this.top=0;this.right=0;this.bottom=0;this.left=0;this.width=0;this.height=0;this.marginRight=0;this.marginBottom=0;this.opacity=0;this.scale=new mixitup.TransformData;this.translateX=new mixitup.TransformData;this.translateY=new mixitup.TransformData;this.translateZ=new mixitup.TransformData;this.rotateX=new mixitup.TransformData;this.rotateY=new mixitup.TransformData;this.rotateZ=new mixitup.TransformData;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.StyleData);mixitup.StyleData.prototype=Object.create(mixitup.Base.prototype);mixitup.StyleData.prototype.constructor=mixitup.StyleData;mixitup.TransformData=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.value=0;this.unit="";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.TransformData);mixitup.TransformData.prototype=Object.create(mixitup.Base.prototype);mixitup.TransformData.prototype.constructor=mixitup.TransformData;mixitup.TransformDefaults=function(){mixitup.StyleData.apply(this);this.callActions("beforeConstruct");this.scale.value=.01;this.scale.unit="";this.translateX.value=20;this.translateX.unit="px";this.translateY.value=20;this.translateY.unit="px";this.translateZ.value=20;this.translateZ.unit="px";this.rotateX.value=90;this.rotateX.unit="deg";this.rotateY.value=90;this.rotateY.unit="deg";this.rotateX.value=90;this.rotateX.unit="deg";this.rotateZ.value=180;this.rotateZ.unit="deg";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.TransformDefaults);mixitup.TransformDefaults.prototype=Object.create(mixitup.StyleData.prototype);mixitup.TransformDefaults.prototype.constructor=mixitup.TransformDefaults;mixitup.transformDefaults=new mixitup.TransformDefaults;mixitup.EventDetail=function(){this.state=null;this.futureState=null;this.instance=null;this.originalEvent=null};mixitup.Events=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.mixStart=null;this.mixBusy=null;this.mixEnd=null;this.mixFail=null;this.mixClick=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.Events);mixitup.Events.prototype=Object.create(mixitup.Base.prototype);mixitup.Events.prototype.constructor=mixitup.Events;mixitup.Events.prototype.fire=function(eventType,el,detail,doc){var self=this,event=null,eventDetail=new mixitup.EventDetail;self.callActions("beforeFire",arguments);if(typeof self[eventType]==="undefined"){throw new Error('Event type "'+eventType+'" not found.')}eventDetail.state=new mixitup.State;h.extend(eventDetail.state,detail.state);if(detail.futureState){eventDetail.futureState=new mixitup.State;h.extend(eventDetail.futureState,detail.futureState)}eventDetail.instance=detail.instance;if(detail.originalEvent){eventDetail.originalEvent=detail.originalEvent}event=h.getCustomEvent(eventType,eventDetail,doc);self.callFilters("eventFire",event,arguments);el.dispatchEvent(event)};mixitup.events=new mixitup.Events;mixitup.QueueItem=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.args=[];this.instruction=null;this.triggerElement=null;this.deferred=null;this.isToggling=false;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.QueueItem);mixitup.QueueItem.prototype=Object.create(mixitup.Base.prototype);mixitup.QueueItem.prototype.constructor=mixitup.QueueItem;mixitup.Mixer=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.config=new mixitup.Config;this.id="";this.isBusy=false;this.isToggling=false;this.incPadding=true;this.controls=[];this.targets=[];this.origOrder=[];this.cache={};this.toggleArray=[];this.targetsMoved=0;this.targetsImmovable=0;this.targetsBound=0;this.targetsDone=0;this.staggerDuration=0;this.effectsIn=null;this.effectsOut=null;this.transformIn=[];this.transformOut=[];this.queue=[];this.state=null;this.lastOperation=null;this.lastClicked=null;this.userCallback=null;this.userDeferred=null;this.dom=new mixitup.MixerDom;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.Mixer);mixitup.Mixer.prototype=Object.create(mixitup.Base.prototype);h.extend(mixitup.Mixer.prototype,{constructor:mixitup.Mixer,attach:function(container,document,id,config){var self=this,target=null,i=-1;self.callActions("beforeAttach",arguments);self.id=id;if(config){h.extend(self.config,config,true,true)}self.sanitizeConfig();self.cacheDom(container,document);if(self.config.layout.containerClassName){h.addClass(self.dom.container,self.config.layout.containerClassName)}if(!mixitup.features.has.transitions){self.config.animation.enable=false}if(typeof window.console==="undefined"){self.config.debug.showWarnings=false}if(self.config.data.uidKey){self.config.controls.enable=false}self.indexTargets();self.state=self.getInitialState();for(i=0;target=self.lastOperation.toHide[i];i++){target.hide()}if(self.config.controls.enable){self.initControls();self.updateControls({filter:self.state.activeFilter,sort:self.state.activeSort});self.buildToggleArray(null,self.state)}self.parseEffects();self.callActions("afterAttach",arguments)},sanitizeConfig:function(){var self=this;self.callActions("beforeSanitizeConfig",arguments);self.config.controls.scope=self.config.controls.scope.toLowerCase().trim();self.config.controls.toggleLogic=self.config.controls.toggleLogic.toLowerCase().trim();self.config.controls.toggleDefault=self.config.controls.toggleDefault.toLowerCase().trim();self.config.animation.effects=self.config.animation.effects.trim();self.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var self=this,state=new mixitup.State,operation=new mixitup.Operation;self.callActions("beforeGetInitialState",arguments);state.activeContainerClassName=self.config.layout.containerClassName;if(self.config.load.dataset){if(!self.config.data.uidKey||typeof self.config.data.uidKey!=="string"){throw new TypeError(mixitup.messages.errorConfigDataUidKeyNotSet())}operation.startDataset=operation.newDataset=state.activeDataset=self.config.load.dataset.slice();operation.startContainerClassName=operation.newContainerClassName=state.activeContainerClassName;operation.show=self.targets.slice();state=self.callFilters("stateGetInitialState",state,arguments)}else{state.activeFilter=self.parseFilterArgs([self.config.load.filter]).command;state.activeSort=self.parseSortArgs([self.config.load.sort]).command;state.totalTargets=self.targets.length;state=self.callFilters("stateGetInitialState",state,arguments);if(state.activeSort.collection||state.activeSort.attribute||state.activeSort.order==="random"||state.activeSort.order==="desc"){operation.newSort=state.activeSort;self.sortOperation(operation);self.printSort(false,operation);self.targets=operation.newOrder}else{operation.startOrder=operation.newOrder=self.targets}operation.startFilter=operation.newFilter=state.activeFilter;operation.startSort=operation.newSort=state.activeSort;operation.startContainerClassName=operation.newContainerClassName=state.activeContainerClassName;if(operation.newFilter.selector==="all"){operation.newFilter.selector=self.config.selectors.target}else if(operation.newFilter.selector==="none"){operation.newFilter.selector=""}}operation=self.callFilters("operationGetInitialState",operation,[state]);self.lastOperation=operation;if(operation.newFilter){self.filterOperation(operation)}state=self.buildState(operation);return state},cacheDom:function(el,document){var self=this;self.callActions("beforeCacheDom",arguments);self.dom.document=document;self.dom.body=self.dom.document.querySelector("body");self.dom.container=el;self.dom.parent=el;self.callActions("afterCacheDom",arguments)},indexTargets:function(){var self=this,target=null,el=null,dataset=null,i=-1;self.callActions("beforeIndexTargets",arguments);self.dom.targets=self.config.layout.allowNestedTargets?self.dom.container.querySelectorAll(self.config.selectors.target):h.children(self.dom.container,self.config.selectors.target,self.dom.document);self.dom.targets=h.arrayFromList(self.dom.targets);self.targets=[];if((dataset=self.config.load.dataset)&&dataset.length!==self.dom.targets.length){throw new Error(mixitup.messages.errorDatasetPrerenderedMismatch())}if(self.dom.targets.length){for(i=0;el=self.dom.targets[i];i++){target=new mixitup.Target;target.init(el,self,dataset?dataset[i]:void 0);target.isInDom=true;self.targets.push(target)}self.dom.parent=self.dom.targets[0].parentElement===self.dom.container?self.dom.container:self.dom.targets[0].parentElement}self.origOrder=self.targets;self.callActions("afterIndexTargets",arguments)},initControls:function(){var self=this,definition="",controlElements=null,el=null,parent=null,delagator=null,control=null,i=-1,j=-1;self.callActions("beforeInitControls",arguments);switch(self.config.controls.scope){case"local":parent=self.dom.container;break;case"global":parent=self.dom.document;break;default:throw new Error(mixitup.messages.errorConfigInvalidControlsScope())}for(i=0;definition=mixitup.controlDefinitions[i];i++){if(self.config.controls.live||definition.live){if(definition.parent){delagator=self.dom[definition.parent];if(!delagator)continue}else{delagator=parent}control=self.getControl(delagator,definition.type,definition.selector);self.controls.push(control)}else{controlElements=parent.querySelectorAll(self.config.selectors.control+definition.selector);for(j=0;el=controlElements[j];j++){control=self.getControl(el,definition.type,"");if(!control)continue;self.controls.push(control)}}}self.callActions("afterInitControls",arguments)},getControl:function(el,type,selector){var self=this,control=null,i=-1;self.callActions("beforeGetControl",arguments);if(!selector){for(i=0;control=mixitup.controls[i];i++){if(control.el===el&&control.isBound(self)){return self.callFilters("controlGetControl",null,arguments)}else if(control.el===el&&control.type===type&&control.selector===selector){control.addBinding(self);return self.callFilters("controlGetControl",control,arguments)}}}control=new mixitup.Control;control.init(el,type,selector);control.classNames.base=h.getClassname(self.config.classNames,type);control.classNames.active=h.getClassname(self.config.classNames,type,self.config.classNames.modifierActive);control.classNames.disabled=h.getClassname(self.config.classNames,type,self.config.classNames.modifierDisabled);control.addBinding(self);return self.callFilters("controlGetControl",control,arguments)},getToggleSelector:function(){var self=this,delineator=self.config.controls.toggleLogic==="or"?", ":"",toggleSelector="";self.callActions("beforeGetToggleSelector",arguments);self.toggleArray=h.clean(self.toggleArray);toggleSelector=self.toggleArray.join(delineator);if(toggleSelector===""){toggleSelector=self.config.controls.toggleDefault}return self.callFilters("selectorGetToggleSelector",toggleSelector,arguments)},buildToggleArray:function(command,state){var self=this,activeFilterSelector="";self.callActions("beforeBuildToggleArray",arguments);if(command&&command.filter){activeFilterSelector=command.filter.selector.replace(/\s/g,"")}else if(state){activeFilterSelector=state.activeFilter.selector.replace(/\s/g,"")}else{return}if(activeFilterSelector===self.config.selectors.target||activeFilterSelector==="all"){activeFilterSelector=""}if(self.config.controls.toggleLogic==="or"){self.toggleArray=activeFilterSelector.split(",")}else{self.toggleArray=self.splitCompoundSelector(activeFilterSelector)}self.toggleArray=h.clean(self.toggleArray);self.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(compoundSelector){var partials=compoundSelector.split(/([\.\[])/g),toggleArray=[],selector="",i=-1;if(partials[0]===""){partials.shift()}for(i=0;i<partials.length;i++){if(i%2===0){selector=""}selector+=partials[i];if(i%2!==0){toggleArray.push(selector)}}return toggleArray},updateControls:function(command){var self=this,control=null,output=new mixitup.CommandMultimix,i=-1;self.callActions("beforeUpdateControls",arguments);if(command.filter){output.filter=command.filter.selector}else{output.filter=self.state.activeFilter.selector}if(command.sort){output.sort=self.buildSortString(command.sort)}else{output.sort=self.buildSortString(self.state.activeSort)}if(output.filter===self.config.selectors.target){output.filter="all"}if(output.filter===""){output.filter="none"}h.freeze(output);for(i=0;control=self.controls[i];i++){control.update(output,self.toggleArray)}self.callActions("afterUpdateControls",arguments)},buildSortString:function(command){var self=this;var output="";output+=command.sortString;if(command.next){output+=" "+self.buildSortString(command.next)}return output},insertTargets:function(command,operation){var self=this,nextSibling=null,insertionIndex=-1,frag=null,target=null,el=null,i=-1;self.callActions("beforeInsertTargets",arguments);if(typeof command.index==="undefined")command.index=0;nextSibling=self.getNextSibling(command.index,command.sibling,command.position);frag=self.dom.document.createDocumentFragment();if(nextSibling){insertionIndex=h.index(nextSibling,self.config.selectors.target)}else{insertionIndex=self.targets.length}if(command.collection){for(i=0;el=command.collection[i];i++){if(self.dom.targets.indexOf(el)>-1){throw new Error(mixitup.messages.errorInsertPreexistingElement())}el.style.display="none";frag.appendChild(el);frag.appendChild(self.dom.document.createTextNode(" "));if(!h.isElement(el,self.dom.document)||!el.matches(self.config.selectors.target))continue;target=new mixitup.Target;target.init(el,self);target.isInDom=true;self.targets.splice(insertionIndex,0,target);insertionIndex++}self.dom.parent.insertBefore(frag,nextSibling)}operation.startOrder=self.origOrder=self.targets;self.callActions("afterInsertTargets",arguments)},getNextSibling:function(index,sibling,position){var self=this,element=null;index=Math.max(index,0);if(sibling&&position==="before"){element=sibling}else if(sibling&&position==="after"){element=sibling.nextElementSibling||null}else if(self.targets.length>0&&typeof index!=="undefined"){element=index<self.targets.length||!self.targets.length?self.targets[index].dom.el:self.targets[self.targets.length-1].dom.el.nextElementSibling}else if(self.targets.length===0&&self.dom.parent.children.length>0){if(self.config.layout.siblingAfter){element=self.config.layout.siblingAfter}else if(self.config.layout.siblingBefore){element=self.config.layout.siblingBefore.nextElementSibling}else{self.dom.parent.children[0]}}else{element===null}return self.callFilters("elementGetNextSibling",element,arguments)},filterOperation:function(operation){var self=this,testResult=false,index=-1,action="",target=null,i=-1;self.callActions("beforeFilterOperation",arguments);action=operation.newFilter.action;for(i=0;target=operation.newOrder[i];i++){if(operation.newFilter.collection){testResult=operation.newFilter.collection.indexOf(target.dom.el)>-1}else{if(operation.newFilter.selector===""){testResult=false}else{testResult=target.dom.el.matches(operation.newFilter.selector)}}self.evaluateHideShow(testResult,target,action,operation)}if(operation.toRemove.length){for(i=0;target=operation.show[i];i++){if(operation.toRemove.indexOf(target)>-1){operation.show.splice(i,1);if((index=operation.toShow.indexOf(target))>-1){operation.toShow.splice(index,1)}operation.toHide.push(target);operation.hide.push(target);i--}}}operation.matching=operation.show.slice();if(operation.show.length===0&&operation.newFilter.selector!==""&&self.targets.length!==0){operation.hasFailed=true}self.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(testResult,target,action,operation){var self=this;self.callActions("beforeEvaluateHideShow",arguments);if(testResult===true&&action==="show"||testResult===false&&action==="hide"){operation.show.push(target);!target.isShown&&operation.toShow.push(target)}else{operation.hide.push(target);target.isShown&&operation.toHide.push(target)}self.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(operation){var self=this;self.callActions("beforeSortOperation",arguments);operation.startOrder=self.targets;if(operation.newSort.collection){operation.newOrder=operation.newSort.collection}else if(operation.newSort.order==="random"){operation.newOrder=h.arrayShuffle(operation.startOrder)}else if(operation.newSort.attribute===""){operation.newOrder=self.origOrder.slice();if(operation.newSort.order==="desc"){operation.newOrder.reverse()}}else{operation.newOrder=operation.startOrder.slice();operation.newOrder.sort(function(a,b){return self.compare(a,b,operation.newSort)})}if(h.isEqualArray(operation.newOrder,operation.startOrder)){operation.willSort=false}self.callActions("afterSortOperation",arguments)},compare:function(a,b,command){var self=this,order=command.order,attrA=self.getAttributeValue(a,command.attribute),attrB=self.getAttributeValue(b,command.attribute);if(isNaN(attrA*1)||isNaN(attrB*1)){attrA=attrA.toLowerCase();attrB=attrB.toLowerCase()}else{attrA=attrA*1;attrB=attrB*1}if(attrA<attrB){return order==="asc"?-1:1}if(attrA>attrB){return order==="asc"?1:-1}if(attrA===attrB&&command.next){return self.compare(a,b,command.next)}return 0},getAttributeValue:function(target,attribute){var self=this,value="";value=target.dom.el.getAttribute("data-"+attribute);if(value===null){if(self.config.debug.showWarnings){console.warn(mixitup.messages.warningInconsistentSortingAttributes({attribute:"data-"+attribute}))}}return self.callFilters("valueGetAttributeValue",value||0,arguments)},printSort:function(isResetting,operation){var self=this,startOrder=isResetting?operation.newOrder:operation.startOrder,newOrder=isResetting?operation.startOrder:operation.newOrder,nextSibling=startOrder.length?startOrder[startOrder.length-1].dom.el.nextElementSibling:null,frag=window.document.createDocumentFragment(),whitespace=null,target=null,el=null,i=-1;self.callActions("beforePrintSort",arguments);for(i=0;target=startOrder[i];i++){el=target.dom.el;if(el.style.position==="absolute")continue;h.removeWhitespace(el.previousSibling);el.parentElement.removeChild(el)}whitespace=nextSibling?nextSibling.previousSibling:self.dom.parent.lastChild;if(whitespace&&whitespace.nodeName==="#text"){h.removeWhitespace(whitespace)}for(i=0;target=newOrder[i];i++){el=target.dom.el;if(h.isElement(frag.lastChild)){frag.appendChild(window.document.createTextNode(" "))}frag.appendChild(el)}if(self.dom.parent.firstChild&&self.dom.parent.firstChild!==nextSibling){frag.insertBefore(window.document.createTextNode(" "),frag.childNodes[0])}if(nextSibling){frag.appendChild(window.document.createTextNode(" "));self.dom.parent.insertBefore(frag,nextSibling)}else{self.dom.parent.appendChild(frag)}self.callActions("afterPrintSort",arguments)},parseSortString:function(sortString,command){var self=this,rules=sortString.split(" "),current=command,rule=[],i=-1;for(i=0;i<rules.length;i++){rule=rules[i].split(":");current.sortString=rules[i];current.attribute=h.dashCase(rule[0]);current.order=rule[1]||"asc";switch(current.attribute){case"default":current.attribute="";break;case"random":current.attribute="";current.order="random";break}if(!current.attribute||current.order==="random")break;if(i<rules.length-1){current.next=new mixitup.CommandSort;h.freeze(current);current=current.next}}return self.callFilters("commandsParseSort",command,arguments)},parseEffects:function(){var self=this,transformName="",effectsIn=self.config.animation.effectsIn||self.config.animation.effects,effectsOut=self.config.animation.effectsOut||self.config.animation.effects;self.callActions("beforeParseEffects",arguments);self.effectsIn=new mixitup.StyleData;self.effectsOut=new mixitup.StyleData;self.transformIn=[];self.transformOut=[];self.effectsIn.opacity=self.effectsOut.opacity=1;self.parseEffect("fade",effectsIn,self.effectsIn,self.transformIn);self.parseEffect("fade",effectsOut,self.effectsOut,self.transformOut,true);for(transformName in mixitup.transformDefaults){if(!(mixitup.transformDefaults[transformName]instanceof mixitup.TransformData)){continue}self.parseEffect(transformName,effectsIn,self.effectsIn,self.transformIn);self.parseEffect(transformName,effectsOut,self.effectsOut,self.transformOut,true)}self.parseEffect("stagger",effectsIn,self.effectsIn,self.transformIn);self.parseEffect("stagger",effectsOut,self.effectsOut,self.transformOut,true);self.callActions("afterParseEffects",arguments)},parseEffect:function(effectName,effectString,effects,transform,isOut){var self=this,re=/\(([^)]+)\)/,propIndex=-1,str="",match=[],val="",units=["%","px","em","rem","vh","vw","deg"],unit="",i=-1;self.callActions("beforeParseEffect",arguments);if(typeof effectString!=="string"){throw new TypeError(mixitup.messages.errorConfigInvalidAnimationEffects())}if(effectString.indexOf(effectName)<0){if(effectName==="stagger"){self.staggerDuration=0}return}propIndex=effectString.indexOf(effectName+"(");if(propIndex>-1){str=effectString.substring(propIndex);match=re.exec(str);val=match[1]}switch(effectName){case"fade":effects.opacity=val?parseFloat(val):0;break;case"stagger":self.staggerDuration=val?parseFloat(val):100;break;default:if(isOut&&self.config.animation.reverseOut&&effectName!=="scale"){effects[effectName].value=(val?parseFloat(val):mixitup.transformDefaults[effectName].value)*-1}else{effects[effectName].value=val?parseFloat(val):mixitup.transformDefaults[effectName].value}if(val){for(i=0;unit=units[i];i++){if(val.indexOf(unit)>-1){effects[effectName].unit=unit;break}}}else{effects[effectName].unit=mixitup.transformDefaults[effectName].unit}transform.push(effectName+"("+effects[effectName].value+effects[effectName].unit+")")}self.callActions("afterParseEffect",arguments)},buildState:function(operation){var self=this,state=new mixitup.State,target=null,i=-1;self.callActions("beforeBuildState",arguments);for(i=0;target=self.targets[i];i++){if(!operation.toRemove.length||operation.toRemove.indexOf(target)<0){state.targets.push(target.dom.el)}}for(i=0;target=operation.matching[i];i++){state.matching.push(target.dom.el)}for(i=0;target=operation.show[i];i++){state.show.push(target.dom.el)}for(i=0;target=operation.hide[i];i++){if(!operation.toRemove.length||operation.toRemove.indexOf(target)<0){state.hide.push(target.dom.el)}}state.id=self.id;state.container=self.dom.container;state.activeFilter=operation.newFilter;state.activeSort=operation.newSort;state.activeDataset=operation.newDataset;state.activeContainerClassName=operation.newContainerClassName;state.hasFailed=operation.hasFailed;state.totalTargets=self.targets.length;state.totalShow=operation.show.length;state.totalHide=operation.hide.length;state.totalMatching=operation.matching.length;state.triggerElement=operation.triggerElement;return self.callFilters("stateBuildState",state,arguments)},goMix:function(shouldAnimate,operation){var self=this,deferred=null;self.callActions("beforeGoMix",arguments);if(!self.config.animation.duration||!self.config.animation.effects||!h.isVisible(self.dom.container)){shouldAnimate=false}if(!operation.toShow.length&&!operation.toHide.length&&!operation.willSort&&!operation.willChangeLayout){shouldAnimate=false}if(!operation.startState.show.length&&!operation.show.length){shouldAnimate=false}mixitup.events.fire("mixStart",self.dom.container,{state:operation.startState,futureState:operation.newState,instance:self},self.dom.document);if(typeof self.config.callbacks.onMixStart==="function"){self.config.callbacks.onMixStart.call(self.dom.container,operation.startState,operation.newState,self)}h.removeClass(self.dom.container,h.getClassname(self.config.classNames,"container",self.config.classNames.modifierFailed));if(!self.userDeferred){deferred=self.userDeferred=h.defer(mixitup.libraries)}else{deferred=self.userDeferred}self.isBusy=true;if(!shouldAnimate||!mixitup.features.has.transitions){if(self.config.debug.fauxAsync){setTimeout(function(){self.cleanUp(operation)},self.config.animation.duration)}else{self.cleanUp(operation)}return self.callFilters("promiseGoMix",deferred.promise,arguments)}if(window.pageYOffset!==operation.docState.scrollTop){window.scrollTo(operation.docState.scrollLeft,operation.docState.scrollTop)}if(self.config.animation.applyPerspective){self.dom.parent.style[mixitup.features.perspectiveProp]=self.config.animation.perspectiveDistance;self.dom.parent.style[mixitup.features.perspectiveOriginProp]=self.config.animation.perspectiveOrigin}if(self.config.animation.animateResizeContainer||operation.startHeight===operation.newHeight){self.dom.parent.style.height=operation.startHeight+"px"}if(self.config.animation.animateResizeContainer||operation.startWidth===operation.newWidth){self.dom.parent.style.width=operation.startWidth+"px"}requestAnimationFrame(function(){self.moveTargets(operation)});return self.callFilters("promiseGoMix",deferred.promise,arguments)},getStartMixData:function(operation){var self=this,parentStyle=window.getComputedStyle(self.dom.parent),parentRect=self.dom.parent.getBoundingClientRect(),target=null,data={},i=-1,boxSizing=parentStyle[mixitup.features.boxSizingProp];self.incPadding=boxSizing==="border-box";self.callActions("beforeGetStartMixData",arguments);for(i=0;target=operation.show[i];i++){data=target.getPosData();operation.showPosData[i]={startPosData:data}}for(i=0;target=operation.toHide[i];i++){data=target.getPosData();operation.toHidePosData[i]={startPosData:data}}operation.startX=parentRect.left;operation.startY=parentRect.top;operation.startHeight=self.incPadding?parentRect.height:parentRect.height-parseFloat(parentStyle.paddingTop)-parseFloat(parentStyle.paddingBottom)-parseFloat(parentStyle.borderTop)-parseFloat(parentStyle.borderBottom);operation.startWidth=self.incPadding?parentRect.width:parentRect.width-parseFloat(parentStyle.paddingLeft)-parseFloat(parentStyle.paddingRight)-parseFloat(parentStyle.borderLeft)-parseFloat(parentStyle.borderRight);self.callActions("afterGetStartMixData",arguments)},setInter:function(operation){var self=this,target=null,i=-1;self.callActions("beforeSetInter",arguments);if(self.config.animation.clampHeight){self.dom.parent.style.height=operation.startHeight;self.dom.parent.style.overflow="hidden"}for(i=0;target=operation.toShow[i];i++){target.show()}if(operation.willChangeLayout){h.removeClass(self.dom.container,operation.startContainerClassName);h.addClass(self.dom.container,operation.newContainerClassName)}self.callActions("afterSetInter",arguments)},getInterMixData:function(operation){var self=this,target=null,i=-1;self.callActions("beforeGetInterMixData",arguments);for(i=0;target=operation.show[i];i++){operation.showPosData[i].interPosData=target.getPosData()}for(i=0;target=operation.toHide[i];i++){operation.toHidePosData[i].interPosData=target.getPosData()}self.callActions("afterGetInterMixData",arguments)},setFinal:function(operation){var self=this,target=null,i=-1;self.callActions("beforeSetFinal",arguments);if(self.config.animation.clampHeight){self.dom.parent.style.height=self.dom.parent.style.overflow=""}operation.willSort&&self.printSort(false,operation);for(i=0;target=operation.toHide[i];i++){target.hide()}self.callActions("afterSetFinal",arguments)},getFinalMixData:function(operation){var self=this,parentStyle=null,parentRect=self.dom.parent.getBoundingClientRect(),target=null,i=-1;if(!self.incPadding){parentStyle=window.getComputedStyle(self.dom.parent)}self.callActions("beforeGetFinalMixData",arguments);for(i=0;target=operation.show[i];i++){operation.showPosData[i].finalPosData=target.getPosData()}for(i=0;target=operation.toHide[i];i++){operation.toHidePosData[i].finalPosData=target.getPosData()}operation.newX=parentRect.left;operation.newY=parentRect.top;operation.newHeight=self.incPadding?parentRect.height:parentRect.height-parseFloat(parentStyle.paddingTop)-parseFloat(parentStyle.paddingBottom)-parseFloat(parentStyle.borderTop)-parseFloat(parentStyle.borderBottom);operation.newWidth=self.incPadding?parentRect.width:parentRect.width-parseFloat(parentStyle.paddingLeft)-parseFloat(parentStyle.paddingRight)-parseFloat(parentStyle.borderLeft)-parseFloat(parentStyle.borderRight);if(operation.willSort){self.printSort(true,operation)}for(i=0;target=operation.toShow[i];i++){target.hide()}for(i=0;target=operation.toHide[i];i++){target.show()}if(operation.willChangeLayout){h.removeClass(self.dom.container,operation.newContainerClassName);h.addClass(self.dom.container,self.config.layout.containerClassName)}self.callActions("afterGetFinalMixData",arguments)},getTweenData:function(operation){var self=this,target=null,posData=null,effectNames=Object.getOwnPropertyNames(self.effectsIn),effectName="",effect=null,widthChange=-1,heightChange=-1,i=-1,j=-1;self.callActions("beforeGetTweenData",arguments);for(i=0;target=operation.show[i];i++){posData=operation.showPosData[i];posData.posIn=new mixitup.StyleData;posData.posOut=new mixitup.StyleData;posData.tweenData=new mixitup.StyleData;if(target.isShown){posData.posIn.x=posData.startPosData.x-posData.interPosData.x;posData.posIn.y=posData.startPosData.y-posData.interPosData.y}else{posData.posIn.x=posData.posIn.y=0}posData.posOut.x=posData.finalPosData.x-posData.interPosData.x;posData.posOut.y=posData.finalPosData.y-posData.interPosData.y;posData.posIn.opacity=target.isShown?1:self.effectsIn.opacity;posData.posOut.opacity=1;posData.tweenData.opacity=posData.posOut.opacity-posData.posIn.opacity;if(!target.isShown&&!self.config.animation.nudge){posData.posIn.x=posData.posOut.x;posData.posIn.y=posData.posOut.y}posData.tweenData.x=posData.posOut.x-posData.posIn.x;posData.tweenData.y=posData.posOut.y-posData.posIn.y;if(self.config.animation.animateResizeTargets){posData.posIn.width=posData.startPosData.width;posData.posIn.height=posData.startPosData.height;widthChange=(posData.startPosData.width||posData.finalPosData.width)-posData.interPosData.width;posData.posIn.marginRight=posData.startPosData.marginRight-widthChange;heightChange=(posData.startPosData.height||posData.finalPosData.height)-posData.interPosData.height;posData.posIn.marginBottom=posData.startPosData.marginBottom-heightChange;posData.posOut.width=posData.finalPosData.width;posData.posOut.height=posData.finalPosData.height;widthChange=(posData.finalPosData.width||posData.startPosData.width)-posData.interPosData.width;posData.posOut.marginRight=posData.finalPosData.marginRight-widthChange;heightChange=(posData.finalPosData.height||posData.startPosData.height)-posData.interPosData.height;posData.posOut.marginBottom=posData.finalPosData.marginBottom-heightChange;posData.tweenData.width=posData.posOut.width-posData.posIn.width;posData.tweenData.height=posData.posOut.height-posData.posIn.height;posData.tweenData.marginRight=posData.posOut.marginRight-posData.posIn.marginRight;posData.tweenData.marginBottom=posData.posOut.marginBottom-posData.posIn.marginBottom}for(j=0;effectName=effectNames[j];j++){effect=self.effectsIn[effectName];if(!(effect instanceof mixitup.TransformData)||!effect.value)continue;posData.posIn[effectName].value=effect.value;posData.posOut[effectName].value=0;posData.tweenData[effectName].value=posData.posOut[effectName].value-posData.posIn[effectName].value;posData.posIn[effectName].unit=posData.posOut[effectName].unit=posData.tweenData[effectName].unit=effect.unit}}for(i=0;target=operation.toHide[i];i++){posData=operation.toHidePosData[i];posData.posIn=new mixitup.StyleData;posData.posOut=new mixitup.StyleData;posData.tweenData=new mixitup.StyleData;posData.posIn.x=target.isShown?posData.startPosData.x-posData.interPosData.x:0;posData.posIn.y=target.isShown?posData.startPosData.y-posData.interPosData.y:0;posData.posOut.x=self.config.animation.nudge?0:posData.posIn.x;posData.posOut.y=self.config.animation.nudge?0:posData.posIn.y;posData.tweenData.x=posData.posOut.x-posData.posIn.x;posData.tweenData.y=posData.posOut.y-posData.posIn.y;if(self.config.animation.animateResizeTargets){posData.posIn.width=posData.startPosData.width;posData.posIn.height=posData.startPosData.height;widthChange=posData.startPosData.width-posData.interPosData.width;posData.posIn.marginRight=posData.startPosData.marginRight-widthChange;heightChange=posData.startPosData.height-posData.interPosData.height;posData.posIn.marginBottom=posData.startPosData.marginBottom-heightChange}posData.posIn.opacity=1;posData.posOut.opacity=self.effectsOut.opacity;posData.tweenData.opacity=posData.posOut.opacity-posData.posIn.opacity;for(j=0;effectName=effectNames[j];j++){effect=self.effectsOut[effectName];if(!(effect instanceof mixitup.TransformData)||!effect.value)continue;posData.posIn[effectName].value=0;posData.posOut[effectName].value=effect.value;posData.tweenData[effectName].value=posData.posOut[effectName].value-posData.posIn[effectName].value;posData.posIn[effectName].unit=posData.posOut[effectName].unit=posData.tweenData[effectName].unit=effect.unit}}self.callActions("afterGetTweenData",arguments)},moveTargets:function(operation){var self=this,target=null,moveData=null,posData=null,statusChange="",willTransition=false,staggerIndex=-1,i=-1,checkProgress=self.checkProgress.bind(self);self.callActions("beforeMoveTargets",arguments);for(i=0;target=operation.show[i];i++){moveData=new mixitup.IMoveData;posData=operation.showPosData[i];statusChange=target.isShown?"none":"show";willTransition=self.willTransition(statusChange,operation.hasEffect,posData.posIn,posData.posOut);if(willTransition){staggerIndex++}target.show();moveData.posIn=posData.posIn;moveData.posOut=posData.posOut;moveData.statusChange=statusChange;moveData.staggerIndex=staggerIndex;moveData.operation=operation;moveData.callback=willTransition?checkProgress:null;target.move(moveData)}for(i=0;target=operation.toHide[i];i++){posData=operation.toHidePosData[i];moveData=new mixitup.IMoveData;statusChange="hide";willTransition=self.willTransition(statusChange,posData.posIn,posData.posOut);moveData.posIn=posData.posIn;moveData.posOut=posData.posOut;moveData.statusChange=statusChange;moveData.staggerIndex=i;moveData.operation=operation;moveData.callback=willTransition?checkProgress:null;target.move(moveData)}if(self.config.animation.animateResizeContainer){self.dom.parent.style[mixitup.features.transitionProp]="height "+self.config.animation.duration+"ms ease, "+"width "+self.config.animation.duration+"ms ease ";requestAnimationFrame(function(){self.dom.parent.style.height=operation.newHeight+"px";self.dom.parent.style.width=operation.newWidth+"px"})}if(operation.willChangeLayout){h.removeClass(self.dom.container,self.config.layout.ContainerClassName);h.addClass(self.dom.container,operation.newContainerClassName)}self.callActions("afterMoveTargets",arguments)},hasEffect:function(){var self=this,EFFECTABLES=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],effectName="",effect=null,result=false,value=-1,i=-1;if(self.effectsIn.opacity!==1){return self.callFilters("resultHasEffect",true,arguments)}for(i=0;effectName=EFFECTABLES[i];i++){effect=self.effectsIn[effectName];value=typeof effect&&effect.value!=="undefined"?effect.value:effect;if(value!==0){result=true;break}}return self.callFilters("resultHasEffect",result,arguments)},willTransition:function(statusChange,hasEffect,posIn,posOut){var self=this,result=false;if(!h.isVisible(self.dom.container)){result=false}else if(statusChange!=="none"&&hasEffect||posIn.x!==posOut.x||posIn.y!==posOut.y){result=true}else if(self.config.animation.animateResizeTargets){result=posIn.width!==posOut.width||posIn.height!==posOut.height||posIn.marginRight!==posOut.marginRight||posIn.marginTop!==posOut.marginTop}else{result=false}return self.callFilters("resultWillTransition",result,arguments)},checkProgress:function(operation){var self=this;self.targetsDone++;if(self.targetsBound===self.targetsDone){self.cleanUp(operation)}},cleanUp:function(operation){var self=this,target=null,whitespaceBefore=null,whitespaceAfter=null,nextInQueue=null,i=-1;self.callActions("beforeCleanUp",arguments);self.targetsMoved=self.targetsImmovable=self.targetsBound=self.targetsDone=0;for(i=0;target=operation.show[i];i++){target.cleanUp();target.show()}for(i=0;target=operation.toHide[i];i++){target.cleanUp();target.hide()}if(operation.willSort){self.printSort(false,operation)}self.dom.parent.style[mixitup.features.transitionProp]=self.dom.parent.style.height=self.dom.parent.style.width=self.dom.parent.style[mixitup.features.perspectiveProp]=self.dom.parent.style[mixitup.features.perspectiveOriginProp]="";if(operation.willChangeLayout){h.removeClass(self.dom.container,operation.startContainerClassName);h.addClass(self.dom.container,operation.newContainerClassName)}if(operation.toRemove.length){for(i=0;target=self.targets[i];i++){if(operation.toRemove.indexOf(target)>-1){if((whitespaceBefore=target.dom.el.previousSibling)&&whitespaceBefore.nodeName==="#text"&&(whitespaceAfter=target.dom.el.nextSibling)&&whitespaceAfter.nodeName==="#text"){h.removeWhitespace(whitespaceBefore)}if(!operation.willSort){self.dom.parent.removeChild(target.dom.el)}self.targets.splice(i,1);target.isInDom=false;i--}}self.origOrder=self.targets}if(operation.willSort){self.targets=operation.newOrder}self.state=operation.newState;self.lastOperation=operation;self.dom.targets=self.state.targets;mixitup.events.fire("mixEnd",self.dom.container,{state:self.state,instance:self},self.dom.document);if(typeof self.config.callbacks.onMixEnd==="function"){self.config.callbacks.onMixEnd.call(self.dom.container,self.state,self)}if(operation.hasFailed){mixitup.events.fire("mixFail",self.dom.container,{state:self.state,instance:self},self.dom.document);if(typeof self.config.callbacks.onMixFail==="function"){self.config.callbacks.onMixFail.call(self.dom.container,self.state,self)}h.addClass(self.dom.container,h.getClassname(self.config.classNames,"container",self.config.classNames.modifierFailed))}if(typeof self.userCallback==="function"){self.userCallback.call(self.dom.container,self.state,self)}if(typeof self.userDeferred.resolve==="function"){self.userDeferred.resolve(self.state)}self.userCallback=null;self.userDeferred=null;self.lastClicked=null;self.isToggling=false;self.isBusy=false;if(self.queue.length){self.callActions("beforeReadQueueCleanUp",arguments);nextInQueue=self.queue.shift();self.userDeferred=nextInQueue.deferred;self.isToggling=nextInQueue.isToggling;self.lastClicked=nextInQueue.triggerElement;if(nextInQueue.instruction.command instanceof mixitup.CommandMultimix){self.multimix.apply(self,nextInQueue.args)}else{self.dataset.apply(self,nextInQueue.args)}}self.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,arg=null,i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandMultimix;for(i=0;i<args.length;i++){arg=args[i];if(arg===null)continue;if(typeof arg==="object"){h.extend(instruction.command,arg)}else if(typeof arg==="boolean"){instruction.animate=arg}else if(typeof arg==="function"){instruction.callback=arg}}if(instruction.command.insert&&!(instruction.command.insert instanceof mixitup.CommandInsert)){instruction.command.insert=self.parseInsertArgs([instruction.command.insert]).command}if(instruction.command.remove&&!(instruction.command.remove instanceof mixitup.CommandRemove)){instruction.command.remove=self.parseRemoveArgs([instruction.command.remove]).command}if(instruction.command.filter&&!(instruction.command.filter instanceof mixitup.CommandFilter)){instruction.command.filter=self.parseFilterArgs([instruction.command.filter]).command}if(instruction.command.sort&&!(instruction.command.sort instanceof mixitup.CommandSort)){instruction.command.sort=self.parseSortArgs([instruction.command.sort]).command}if(instruction.command.changeLayout&&!(instruction.command.changeLayout instanceof mixitup.CommandChangeLayout)){instruction.command.changeLayout=self.parseChangeLayoutArgs([instruction.command.changeLayout]).command}instruction=self.callFilters("instructionParseMultimixArgs",instruction,arguments);h.freeze(instruction);return instruction},parseFilterArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,arg=null,i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandFilter;for(i=0;i<args.length;i++){arg=args[i];if(typeof arg==="string"){instruction.command.selector=arg}else if(arg===null){instruction.command.collection=[]}else if(typeof arg==="object"&&h.isElement(arg,self.dom.document)){instruction.command.collection=[arg]}else if(typeof arg==="object"&&typeof arg.length!=="undefined"){instruction.command.collection=h.arrayFromList(arg)}else if(typeof arg==="object"){h.extend(instruction.command,arg)}else if(typeof arg==="boolean"){instruction.animate=arg}else if(typeof arg==="function"){instruction.callback=arg}}if(instruction.command.selector&&instruction.command.collection){throw new Error(mixitup.messages.errorFilterInvalidArguments())}instruction=self.callFilters("instructionParseFilterArgs",instruction,arguments);h.freeze(instruction);return instruction},parseSortArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,arg=null,sortString="",i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandSort;for(i=0;i<args.length;i++){arg=args[i];if(arg===null)continue;switch(typeof arg){case"string":sortString=arg;break;case"object":if(arg.length){instruction.command.collection=h.arrayFromList(arg)}break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg;break}}if(sortString){instruction.command=self.parseSortString(sortString,instruction.command)}instruction=self.callFilters("instructionParseSortArgs",instruction,arguments);h.freeze(instruction);return instruction},parseInsertArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,arg=null,i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandInsert;for(i=0;i<args.length;i++){arg=args[i];if(arg===null)continue;if(typeof arg==="number"){instruction.command.index=arg}else if(typeof arg==="string"&&["before","after"].indexOf(arg)>-1){instruction.command.position=arg}else if(typeof arg==="string"){instruction.command.collection=h.arrayFromList(h.createElement(arg).childNodes)}else if(typeof arg==="object"&&h.isElement(arg,self.dom.document)){!instruction.command.collection.length?instruction.command.collection=[arg]:instruction.command.sibling=arg}else if(typeof arg==="object"&&arg.length){!instruction.command.collection.length?instruction.command.collection=arg:instruction.command.sibling=arg[0]}else if(typeof arg==="object"&&arg.childNodes&&arg.childNodes.length){!instruction.command.collection.length?instruction.command.collection=h.arrayFromList(arg.childNodes):instruction.command.sibling=arg.childNodes[0]}else if(typeof arg==="object"){h.extend(instruction.command,arg)}else if(typeof arg==="boolean"){instruction.animate=arg}else if(typeof arg==="function"){instruction.callback=arg}}if(instruction.command.index&&instruction.command.sibling){throw new Error(mixitup.messages.errorInsertInvalidArguments())}if(!instruction.command.collection.length&&self.config.debug.showWarnings){console.warn(mixitup.messages.warningInsertNoElements())}instruction=self.callFilters("instructionParseInsertArgs",instruction,arguments);h.freeze(instruction);return instruction},parseRemoveArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,target=null,arg=null,i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandRemove;for(i=0;i<args.length;i++){arg=args[i];if(arg===null)continue;switch(typeof arg){case"number":if(self.targets[arg]){instruction.command.targets[0]=self.targets[arg]}break;case"string":instruction.command.collection=h.arrayFromList(self.dom.parent.querySelectorAll(arg));break;case"object":if(arg&&arg.length){instruction.command.collection=arg}else if(h.isElement(arg,self.dom.document)){instruction.command.collection=[arg]}else{h.extend(instruction.command,arg)}break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg;break}}if(instruction.command.collection.length){for(i=0;target=self.targets[i];i++){if(instruction.command.collection.indexOf(target.dom.el)>-1){instruction.command.targets.push(target)}}}if(!instruction.command.targets.length&&self.config.debug.showWarnings){console.warn(mixitup.messages.warningRemoveNoElements())}h.freeze(instruction);return instruction},parseDatasetArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,arg=null,i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandDataset;for(i=0;i<args.length;i++){arg=args[i];if(arg===null)continue;switch(typeof arg){case"object":if(Array.isArray(arg)||typeof arg.length==="number"){instruction.command.dataset=arg}else{h.extend(instruction.command,arg)}break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg;break}}h.freeze(instruction);return instruction},parseChangeLayoutArgs:function(args){var self=this,instruction=new mixitup.UserInstruction,arg=null,i=-1;instruction.animate=self.config.animation.enable;instruction.command=new mixitup.CommandChangeLayout;for(i=0;i<args.length;i++){arg=args[i];if(arg===null)continue;switch(typeof arg){case"string":instruction.command.containerClassName=arg;break;case"object":h.extend(instruction.command,arg);break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg;break}}h.freeze(instruction);return instruction},queueMix:function(queueItem){var self=this,deferred=null,toggleSelector="";self.callActions("beforeQueueMix",arguments);deferred=h.defer(mixitup.libraries);if(self.config.animation.queue&&self.queue.length<self.config.animation.queueLimit){queueItem.deferred=deferred;self.queue.push(queueItem);if(self.config.controls.enable){if(self.isToggling){self.buildToggleArray(queueItem.instruction.command);toggleSelector=self.getToggleSelector();self.updateControls({filter:{selector:toggleSelector}})}else{self.updateControls(queueItem.instruction.command)}}}else{if(self.config.debug.showWarnings){console.warn(mixitup.messages.warningMultimixInstanceQueueFull())}deferred.resolve(self.state);mixitup.events.fire("mixBusy",self.dom.container,{state:self.state,instance:self},self.dom.document);if(typeof self.config.callbacks.onMixBusy==="function"){self.config.callbacks.onMixBusy.call(self.dom.container,self.state,self)}}return self.callFilters("promiseQueueMix",deferred.promise,arguments)},getDataOperation:function(newDataset){var self=this,operation=new mixitup.Operation,startDataset=[];operation=self.callFilters("operationUnmappedGetDataOperation",operation,arguments);if(self.dom.targets.length&&!(startDataset=self.state.activeDataset||[]).length){throw new Error(mixitup.messages.errorDatasetNotSet())}operation.id=h.randomHex();operation.startState=self.state;operation.startDataset=startDataset;operation.newDataset=newDataset.slice();self.diffDatasets(operation);operation.startOrder=self.targets;operation.newOrder=operation.show;if(self.config.animation.enable){self.getStartMixData(operation);self.setInter(operation);operation.docState=h.getDocumentState(self.dom.document);self.getInterMixData(operation);self.setFinal(operation);self.getFinalMixData(operation);self.parseEffects();operation.hasEffect=self.hasEffect();self.getTweenData(operation)}self.targets=operation.show.slice();operation.newState=self.buildState(operation);Array.prototype.push.apply(self.targets,operation.toRemove);operation=self.callFilters("operationMappedGetDataOperation",operation,arguments);return operation},diffDatasets:function(operation){var self=this,persistantStartIds=[],persistantNewIds=[],insertedTargets=[],data=null,target=null,el=null,frag=null,nextEl=null,uids={},id="",i=-1;self.callActions("beforeDiffDatasets",arguments);for(i=0;data=operation.newDataset[i];i++){if(typeof(id=data[self.config.data.uidKey])==="undefined"||id.toString().length<1){throw new TypeError(mixitup.messages.errorDatasetInvalidUidKey({uidKey:self.config.data.uidKey}))}if(!uids[id]){uids[id]=true}else{throw new Error(mixitup.messages.errorDatasetDuplicateUid({uid:id}))}if((target=self.cache[id])instanceof mixitup.Target){if(self.config.data.dirtyCheck&&!h.deepEquals(data,target.data)){el=target.render(data);target.data=data;if(el!==target.dom.el){if(target.isInDom){target.unbindEvents();self.dom.parent.replaceChild(el,target.dom.el)}if(!target.isShown){el.style.display="none"}target.dom.el=el;if(target.isInDom){target.bindEvents()}}}el=target.dom.el}else{target=new mixitup.Target;target.init(null,self,data);target.hide()}if(!target.isInDom){if(!frag){frag=self.dom.document.createDocumentFragment()}if(frag.lastElementChild){frag.appendChild(self.dom.document.createTextNode(" "))}frag.appendChild(target.dom.el);target.isInDom=true;target.unbindEvents();target.bindEvents();target.hide();operation.toShow.push(target);insertedTargets.push(target)}else{nextEl=target.dom.el.nextElementSibling;persistantNewIds.push(id);if(frag){if(frag.lastElementChild){frag.appendChild(self.dom.document.createTextNode(" "))}self.insertDatasetFrag(frag,target.dom.el,self.targets.indexOf(target),insertedTargets);frag=null}}operation.show.push(target)}if(frag){nextEl=nextEl||self.config.layout.siblingAfter;if(nextEl){frag.appendChild(self.dom.document.createTextNode(" "))}self.insertDatasetFrag(frag,nextEl,self.dom.targets.length,insertedTargets)}for(i=0;data=operation.startDataset[i];i++){id=data[self.config.data.uidKey];target=self.cache[id];if(operation.show.indexOf(target)<0){operation.hide.push(target);operation.toHide.push(target);operation.toRemove.push(target)}else{persistantStartIds.push(id)}}if(!h.isEqualArray(persistantStartIds,persistantNewIds)){operation.willSort=true}self.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(frag,nextEl,insertionIndex,targets){var self=this;self.dom.parent.insertBefore(frag,nextEl);while(targets.length){self.targets.splice(insertionIndex,0,targets.shift());insertionIndex++}},willSort:function(sortCommandA,sortCommandB){var self=this,result=false;if(sortCommandA.order==="random"||sortCommandA.attribute!==sortCommandB.attribute||sortCommandA.order!==sortCommandB.order||sortCommandA.collection!==sortCommandB.collection||sortCommandA.next===null&&sortCommandB.next||sortCommandA.next&&sortCommandB.next===null){result=true}else if(sortCommandA.next&&sortCommandB.next){result=self.willSort(sortCommandA.next,sortCommandB.next)}else{result=false}return self.callFilters("resultWillSort",result,arguments)},show:function(){var self=this;return self.filter("all")},hide:function(){var self=this;return self.filter("none")},isMixing:function(){var self=this;return self.isBusy},filter:function(){var self=this,instruction=self.parseFilterArgs(arguments);return self.multimix({filter:instruction.command},instruction.animate,instruction.callback)},toggleOn:function(){var self=this,instruction=self.parseFilterArgs(arguments),selector=instruction.command.selector,toggleSelector="";self.isToggling=true;if(self.toggleArray.indexOf(selector)<0){self.toggleArray.push(selector)}toggleSelector=self.getToggleSelector();return self.multimix({filter:toggleSelector},instruction.animate,instruction.callback)},toggleOff:function(){var self=this,instruction=self.parseFilterArgs(arguments),selector=instruction.command.selector,toggleSelector="";self.isToggling=true;self.toggleArray.splice(self.toggleArray.indexOf(selector),1);toggleSelector=self.getToggleSelector();return self.multimix({filter:toggleSelector},instruction.animate,instruction.callback)},sort:function(){var self=this,instruction=self.parseSortArgs(arguments);return self.multimix({sort:instruction.command},instruction.animate,instruction.callback)},changeLayout:function(){var self=this,instruction=self.parseChangeLayoutArgs(arguments);return self.multimix({changeLayout:instruction.command},instruction.animate,instruction.callback)},dataset:function(){var self=this,instruction=self.parseDatasetArgs(arguments),operation=null,queueItem=null,animate=false;self.callActions("beforeDataset",arguments);if(!self.isBusy){if(instruction.callback)self.userCallback=instruction.callback;animate=instruction.animate^self.config.animation.enable?instruction.animate:self.config.animation.enable;operation=self.getDataOperation(instruction.command.dataset);return self.goMix(animate,operation)}else{queueItem=new mixitup.QueueItem;queueItem.args=arguments;queueItem.instruction=instruction;return self.queueMix(queueItem)}},multimix:function(){var self=this,operation=null,animate=false,queueItem=null,instruction=self.parseMultimixArgs(arguments);self.callActions("beforeMultimix",arguments);if(!self.isBusy){operation=self.getOperation(instruction.command);if(self.config.controls.enable){if(instruction.command.filter&&!self.isToggling){self.toggleArray.length=0;self.buildToggleArray(operation.command)}if(self.queue.length<1){self.updateControls(operation.command)}}if(instruction.callback)self.userCallback=instruction.callback;animate=instruction.animate^self.config.animation.enable?instruction.animate:self.config.animation.enable;self.callFilters("operationMultimix",operation,arguments);return self.goMix(animate,operation)}else{queueItem=new mixitup.QueueItem;queueItem.args=arguments;queueItem.instruction=instruction;queueItem.triggerElement=self.lastClicked;queueItem.isToggling=self.isToggling;return self.queueMix(queueItem)}},getOperation:function(multimixCommand){var self=this,sortCommand=multimixCommand.sort,filterCommand=multimixCommand.filter,changeLayoutCommand=multimixCommand.changeLayout,removeCommand=multimixCommand.remove,insertCommand=multimixCommand.insert,operation=new mixitup.Operation;operation=self.callFilters("operationUnmappedGetOperation",operation,arguments);operation.id=h.randomHex();operation.command=multimixCommand;operation.startState=self.state;operation.triggerElement=self.lastClicked;if(self.isBusy){if(self.config.debug.showWarnings){console.warn(mixitup.messages.warningGetOperationInstanceBusy())}return null}if(insertCommand){self.insertTargets(insertCommand,operation)}if(removeCommand){operation.toRemove=removeCommand.targets}operation.startSort=operation.newSort=operation.startState.activeSort;operation.startOrder=operation.newOrder=self.targets;if(sortCommand){operation.startSort=operation.startState.activeSort;operation.newSort=sortCommand;operation.willSort=self.willSort(sortCommand,operation.startState.activeSort);if(operation.willSort){self.sortOperation(operation)}}operation.startFilter=operation.startState.activeFilter;if(filterCommand){operation.newFilter=filterCommand}else{operation.newFilter=h.extend(new mixitup.CommandFilter,operation.startFilter)}if(operation.newFilter.selector==="all"){operation.newFilter.selector=self.config.selectors.target}else if(operation.newFilter.selector==="none"){operation.newFilter.selector=""}self.filterOperation(operation);if(changeLayoutCommand){operation.startContainerClassName=operation.startState.activeContainerClassName;operation.newContainerClassName=changeLayoutCommand.containerClassName;if(operation.newContainerClassName!==operation.startContainerClassName){operation.willChangeLayout=true}}if(self.config.animation.enable){self.getStartMixData(operation);self.setInter(operation);operation.docState=h.getDocumentState(self.dom.document);self.getInterMixData(operation);self.setFinal(operation);self.getFinalMixData(operation);self.parseEffects();operation.hasEffect=self.hasEffect();self.getTweenData(operation)}operation.newState=self.buildState(operation);return self.callFilters("operationMappedGetOperation",operation,arguments)},tween:function(operation,multiplier){var target=null,posData=null,toHideIndex=-1,i=-1;multiplier=Math.min(multiplier,1);multiplier=Math.max(multiplier,0);for(i=0;target=operation.show[i];i++){posData=operation.showPosData[i];target.applyTween(posData,multiplier)}for(i=0;target=operation.hide[i];i++){if(target.isShown){target.hide()}if((toHideIndex=operation.toHide.indexOf(target))>-1){posData=operation.toHidePosData[toHideIndex];if(!target.isShown){target.show()}target.applyTween(posData,multiplier)}}},insert:function(){var self=this,args=self.parseInsertArgs(arguments);return self.multimix({insert:args.command},args.animate,args.callback)},insertBefore:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(args.command.collection,"before",args.command.sibling,args.animate,args.callback)},insertAfter:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(args.command.collection,"after",args.command.sibling,args.animate,args.callback)},prepend:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(0,args.command.collection,args.animate,args.callback)},append:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(self.state.totalTargets,args.command.collection,args.animate,args.callback)},remove:function(){var self=this,args=self.parseRemoveArgs(arguments);return self.multimix({remove:args.command},args.animate,args.callback)},getConfig:function(stringKey){var self=this,value=null;if(!stringKey){value=self.config}else{value=h.getProperty(self.config,stringKey)}return self.callFilters("valueGetConfig",value,arguments)},configure:function(config){var self=this;self.callActions("beforeConfigure",arguments);h.extend(self.config,config,true,true);self.callActions("afterConfigure",arguments)},getState:function(){var self=this,state=null;state=new mixitup.State;h.extend(state,self.state);h.freeze(state);return self.callFilters("stateGetState",state,arguments)},forceRefresh:function(){var self=this;self.indexTargets()},destroy:function(cleanUp){var self=this,control=null,target=null,i=0;self.callActions("beforeDestroy",arguments);for(i=0;control=self.controls[i];i++){control.removeBinding(self)}for(i=0;target=self.targets[i];i++){if(cleanUp){target.show()}target.unbindEvents()}if(self.dom.container.id.match(/^MixItUp/)){self.dom.container.removeAttribute("id")}delete mixitup.instances[self.id];self.callActions("afterDestroy",arguments)}});mixitup.IMoveData=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.posIn=null;this.posOut=null;this.operation=null;this.callback=null;this.statusChange="";this.duration=-1;this.staggerIndex=-1;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.IMoveData);mixitup.IMoveData.prototype=Object.create(mixitup.Base.prototype);mixitup.IMoveData.prototype.constructor=mixitup.IMoveData;mixitup.TargetDom=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.el=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.TargetDom);mixitup.TargetDom.prototype=Object.create(mixitup.Base.prototype);mixitup.TargetDom.prototype.constructor=mixitup.TargetDom;mixitup.Target=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.id="";this.sortString="";this.mixer=null;this.callback=null;this.isShown=false;this.isBound=false;this.isExcluded=false;this.isInDom=false;this.handler=null;this.operation=null;this.data=null;this.dom=new mixitup.TargetDom;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.Target);mixitup.Target.prototype=Object.create(mixitup.Base.prototype);h.extend(mixitup.Target.prototype,{constructor:mixitup.Target,init:function(el,mixer,data){var self=this,id="";self.callActions("beforeInit",arguments);self.mixer=mixer;if(!el){el=self.render(data)}self.cacheDom(el);self.bindEvents();if(self.dom.el.style.display!=="none"){self.isShown=true}if(data&&mixer.config.data.uidKey){if(typeof(id=data[mixer.config.data.uidKey])==="undefined"||id.toString().length<1){throw new TypeError(mixitup.messages.errorDatasetInvalidUidKey({uidKey:mixer.config.data.uidKey}))}self.id=id;self.data=data;mixer.cache[id]=self}self.callActions("afterInit",arguments)},render:function(data){var self=this,render=null,el=null,temp=null,output="";self.callActions("beforeRender",arguments);render=self.callFilters("renderRender",self.mixer.config.render.target,arguments);if(typeof render!=="function"){throw new TypeError(mixitup.messages.errorDatasetRendererNotSet())}output=render(data);if(output&&typeof output==="object"&&h.isElement(output)){el=output}else if(typeof output==="string"){temp=document.createElement("div");temp.innerHTML=output;el=temp.firstElementChild}return self.callFilters("elRender",el,arguments)},cacheDom:function(el){var self=this;self.callActions("beforeCacheDom",arguments);self.dom.el=el;self.callActions("beforeCacheDom",arguments)},getSortString:function(attributeName){var self=this,value=self.dom.el.getAttribute("data-"+attributeName)||"";self.callActions("beforeGetSortString",arguments);value=isNaN(value*1)?value.toLowerCase():value*1;self.sortString=value;self.callActions("afterGetSortString",arguments)},show:function(){var self=this;self.callActions("beforeShow",arguments);if(!self.isShown){self.dom.el.style.display="";self.isShown=true}self.callActions("afterShow",arguments)},hide:function(){var self=this;self.callActions("beforeHide",arguments);if(self.isShown){self.dom.el.style.display="none";self.isShown=false}self.callActions("afterHide",arguments)},move:function(moveData){var self=this;self.callActions("beforeMove",arguments);if(!self.isExcluded){self.mixer.targetsMoved++}self.applyStylesIn(moveData);requestAnimationFrame(function(){self.applyStylesOut(moveData)});self.callActions("afterMove",arguments)},applyTween:function(posData,multiplier){var self=this,propertyName="",tweenData=null,posIn=posData.posIn,currentTransformValues=[],currentValues=new mixitup.StyleData,i=-1;self.callActions("beforeApplyTween",arguments);currentValues.x=posIn.x;currentValues.y=posIn.y;if(multiplier===0){self.hide()}else if(!self.isShown){self.show()}for(i=0;propertyName=mixitup.features.TWEENABLE[i];i++){tweenData=posData.tweenData[propertyName];if(propertyName==="x"){if(!tweenData)continue;currentValues.x=posIn.x+tweenData*multiplier}else if(propertyName==="y"){if(!tweenData)continue;currentValues.y=posIn.y+tweenData*multiplier}else if(tweenData instanceof mixitup.TransformData){if(!tweenData.value)continue;currentValues[propertyName].value=posIn[propertyName].value+tweenData.value*multiplier;currentValues[propertyName].unit=tweenData.unit;currentTransformValues.push(propertyName+"("+currentValues[propertyName].value+tweenData.unit+")")}else{if(!tweenData)continue;currentValues[propertyName]=posIn[propertyName]+tweenData*multiplier;self.dom.el.style[propertyName]=currentValues[propertyName]}}if(currentValues.x||currentValues.y){currentTransformValues.unshift("translate("+currentValues.x+"px, "+currentValues.y+"px)")}if(currentTransformValues.length){self.dom.el.style[mixitup.features.transformProp]=currentTransformValues.join(" ")}self.callActions("afterApplyTween",arguments)},applyStylesIn:function(moveData){var self=this,posIn=moveData.posIn,isFading=self.mixer.effectsIn.opacity!==1,transformValues=[];self.callActions("beforeApplyStylesIn",arguments);transformValues.push("translate("+posIn.x+"px, "+posIn.y+"px)");if(self.mixer.config.animation.animateResizeTargets){if(moveData.statusChange!=="show"){self.dom.el.style.width=posIn.width+"px";self.dom.el.style.height=posIn.height+"px"}self.dom.el.style.marginRight=posIn.marginRight+"px";self.dom.el.style.marginBottom=posIn.marginBottom+"px"}isFading&&(self.dom.el.style.opacity=posIn.opacity);if(moveData.statusChange==="show"){transformValues=transformValues.concat(self.mixer.transformIn)}self.dom.el.style[mixitup.features.transformProp]=transformValues.join(" ");self.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(moveData){var self=this,transitionRules=[],transformValues=[],isResizing=self.mixer.config.animation.animateResizeTargets,isFading=typeof self.mixer.effectsIn.opacity!=="undefined";self.callActions("beforeApplyStylesOut",arguments);transitionRules.push(self.writeTransitionRule(mixitup.features.transformRule,moveData.staggerIndex));if(moveData.statusChange!=="none"){transitionRules.push(self.writeTransitionRule("opacity",moveData.staggerIndex,moveData.duration))}if(isResizing){transitionRules.push(self.writeTransitionRule("width",moveData.staggerIndex,moveData.duration));transitionRules.push(self.writeTransitionRule("height",moveData.staggerIndex,moveData.duration));transitionRules.push(self.writeTransitionRule("margin",moveData.staggerIndex,moveData.duration))}if(!moveData.callback){self.mixer.targetsImmovable++;if(self.mixer.targetsMoved===self.mixer.targetsImmovable){self.mixer.cleanUp(moveData.operation)}return}self.operation=moveData.operation;self.callback=moveData.callback;!self.isExcluded&&self.mixer.targetsBound++;self.isBound=true;self.applyTransition(transitionRules);if(isResizing&&moveData.posOut.width>0&&moveData.posOut.height>0){self.dom.el.style.width=moveData.posOut.width+"px";self.dom.el.style.height=moveData.posOut.height+"px";self.dom.el.style.marginRight=moveData.posOut.marginRight+"px";self.dom.el.style.marginBottom=moveData.posOut.marginBottom+"px"}if(!self.mixer.config.animation.nudge&&moveData.statusChange==="hide"){transformValues.push("translate("+moveData.posOut.x+"px, "+moveData.posOut.y+"px)")}switch(moveData.statusChange){case"hide":isFading&&(self.dom.el.style.opacity=self.mixer.effectsOut.opacity);transformValues=transformValues.concat(self.mixer.transformOut);break;case"show":isFading&&(self.dom.el.style.opacity=1)}if(self.mixer.config.animation.nudge||!self.mixer.config.animation.nudge&&moveData.statusChange!=="hide"){transformValues.push("translate("+moveData.posOut.x+"px, "+moveData.posOut.y+"px)")}self.dom.el.style[mixitup.features.transformProp]=transformValues.join(" ");self.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(property,staggerIndex,duration){var self=this,delay=self.getDelay(staggerIndex),rule="";rule=property+" "+(duration>0?duration:self.mixer.config.animation.duration)+"ms "+delay+"ms "+(property==="opacity"?"linear":self.mixer.config.animation.easing);return self.callFilters("ruleWriteTransitionRule",rule,arguments)},getDelay:function(index){var self=this,delay=-1;if(typeof self.mixer.config.animation.staggerSequence==="function"){index=self.mixer.config.animation.staggerSequence.call(self,index,self.state)}delay=!!self.mixer.staggerDuration?index*self.mixer.staggerDuration:0;return self.callFilters("delayGetDelay",delay,arguments)},applyTransition:function(rules){var self=this,transitionString=rules.join(", ");self.callActions("beforeApplyTransition",arguments);self.dom.el.style[mixitup.features.transitionProp]=transitionString;self.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(e){var self=this,propName=e.propertyName,canResize=self.mixer.config.animation.animateResizeTargets;self.callActions("beforeHandleTransitionEnd",arguments);if(self.isBound&&e.target.matches(self.mixer.config.selectors.target)&&(propName.indexOf("transform")>-1||propName.indexOf("opacity")>-1||canResize&&propName.indexOf("height")>-1||canResize&&propName.indexOf("width")>-1||canResize&&propName.indexOf("margin")>-1)){self.callback.call(self,self.operation);self.isBound=false;self.callback=null;self.operation=null}self.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(e){var self=this;self.callActions("beforeEventBus",arguments);switch(e.type){case"webkitTransitionEnd":case"transitionend":self.handleTransitionEnd(e)}self.callActions("afterEventBus",arguments)},unbindEvents:function(){var self=this;self.callActions("beforeUnbindEvents",arguments);h.off(self.dom.el,"webkitTransitionEnd",self.handler);h.off(self.dom.el,"transitionend",self.handler);self.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var self=this,transitionEndEvent="";self.callActions("beforeBindEvents",arguments);transitionEndEvent=mixitup.features.transitionPrefix==="webkit"?"webkitTransitionEnd":"transitionend";self.handler=function(e){return self.eventBus(e)};h.on(self.dom.el,transitionEndEvent,self.handler);self.callActions("afterBindEvents",arguments)},getPosData:function(getBox){var self=this,styles={},rect=null,posData=new mixitup.StyleData;self.callActions("beforeGetPosData",arguments);posData.x=self.dom.el.offsetLeft;posData.y=self.dom.el.offsetTop;if(self.mixer.config.animation.animateResizeTargets||getBox){rect=self.dom.el.getBoundingClientRect();posData.top=rect.top;posData.right=rect.right;posData.bottom=rect.bottom;posData.left=rect.left;posData.width=rect.width;posData.height=rect.height}if(self.mixer.config.animation.animateResizeTargets){styles=window.getComputedStyle(self.dom.el);posData.marginBottom=parseFloat(styles.marginBottom);posData.marginRight=parseFloat(styles.marginRight)}return self.callFilters("posDataGetPosData",posData,arguments)},cleanUp:function(){var self=this;self.callActions("beforeCleanUp",arguments);self.dom.el.style[mixitup.features.transformProp]="";self.dom.el.style[mixitup.features.transitionProp]="";self.dom.el.style.opacity="";if(self.mixer.config.animation.animateResizeTargets){self.dom.el.style.width="";self.dom.el.style.height="";self.dom.el.style.marginRight="";self.dom.el.style.marginBottom=""}self.callActions("afterCleanUp",arguments)}});mixitup.Collection=function(instances){var instance=null,i=-1;this.callActions("beforeConstruct");for(i=0;instance=instances[i];i++){this[i]=instance}this.length=instances.length;this.callActions("afterConstruct");h.freeze(this)};mixitup.BaseStatic.call(mixitup.Collection);mixitup.Collection.prototype=Object.create(mixitup.Base.prototype);h.extend(mixitup.Collection.prototype,{constructor:mixitup.Collection,mixitup:function(methodName){var self=this,instance=null,args=Array.prototype.slice.call(arguments),tasks=[],i=-1;this.callActions("beforeMixitup");args.shift();for(i=0;instance=self[i];i++){tasks.push(instance[methodName].apply(instance,args))}return self.callFilters("promiseMixitup",h.all(tasks,mixitup.libraries),arguments)}});mixitup.Operation=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.id="";this.args=[];this.command=null;this.showPosData=[];this.toHidePosData=[];this.startState=null;this.newState=null;this.docState=null;this.willSort=false;this.willChangeLayout=false;this.hasEffect=false;this.hasFailed=false;this.triggerElement=null;this.show=[];this.hide=[];this.matching=[];this.toShow=[];this.toHide=[];this.toMove=[];this.toRemove=[];this.startOrder=[];this.newOrder=[];this.startSort=null;this.newSort=null;this.startFilter=null;this.newFilter=null;this.startDataset=null;this.newDataset=null;this.startX=0;this.startY=0;this.startHeight=0;this.startWidth=0;this.newX=0;this.newY=0;this.newHeight=0;this.newWidth=0;this.startContainerClassName="";this.startDisplay="";this.newContainerClassName="";this.newDisplay="";this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.Operation);mixitup.Operation.prototype=Object.create(mixitup.Base.prototype);mixitup.Operation.prototype.constructor=mixitup.Operation;mixitup.State=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.id="";this.activeFilter=null;this.activeSort=null;this.activeContainerClassName="";this.container=null;this.targets=[];this.hide=[];this.show=[];this.matching=[];this.totalTargets=-1;this.totalShow=-1;this.totalHide=-1;this.totalMatching=-1;this.hasFailed=false;this.triggerElement=null;this.activeDataset=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.State);mixitup.State.prototype=Object.create(mixitup.Base.prototype);mixitup.State.prototype.constructor=mixitup.State;mixitup.UserInstruction=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.command={};this.animate=false;this.callback=null;this.callActions("afterConstruct");h.seal(this)};mixitup.BaseStatic.call(mixitup.UserInstruction);mixitup.UserInstruction.prototype=Object.create(mixitup.Base.prototype);mixitup.UserInstruction.prototype.constructor=mixitup.UserInstruction;mixitup.Messages=function(){mixitup.Base.call(this);this.callActions("beforeConstruct");this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function";this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element";this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`";this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`";this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}';this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?';this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`";this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items';this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.';this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both";this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container";this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both";this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`";this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets";this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`";this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored."+" If you wish to perform additional methods on this instance, please create a reference.";this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`";this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`";this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the "+"queue is full or queuing is disabled.";this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.";this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install"+" an ES6 Promise polyfill.";this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements'+" which may product unexpected sort output";this.callActions("afterConstruct");this.compileTemplates();h.seal(this)};mixitup.BaseStatic.call(mixitup.Messages);mixitup.Messages.prototype=Object.create(mixitup.Base.prototype);mixitup.Messages.prototype.constructor=mixitup.Messages;mixitup.Messages.prototype.compileTemplates=function(){var errorKey="";var errorMessage="";for(errorKey in this){if(typeof(errorMessage=this[errorKey])!=="string")continue;this[h.camelCase(errorKey)]=h.template(errorMessage)}};mixitup.messages=new mixitup.Messages;mixitup.Facade=function Mixer(mixer){mixitup.Base.call(this);this.callActions("beforeConstruct",arguments);this.configure=mixer.configure.bind(mixer);this.show=mixer.show.bind(mixer);this.hide=mixer.hide.bind(mixer);this.filter=mixer.filter.bind(mixer);this.toggleOn=mixer.toggleOn.bind(mixer);this.toggleOff=mixer.toggleOff.bind(mixer);this.sort=mixer.sort.bind(mixer);this.changeLayout=mixer.changeLayout.bind(mixer);this.multimix=mixer.multimix.bind(mixer);this.multiMix=mixer.multimix.bind(mixer);this.dataset=mixer.dataset.bind(mixer);this.tween=mixer.tween.bind(mixer);this.insert=mixer.insert.bind(mixer);this.insertBefore=mixer.insertBefore.bind(mixer);this.insertAfter=mixer.insertAfter.bind(mixer);this.prepend=mixer.prepend.bind(mixer);this.append=mixer.append.bind(mixer);this.remove=mixer.remove.bind(mixer);this.destroy=mixer.destroy.bind(mixer);this.forceRefresh=mixer.forceRefresh.bind(mixer);this.isMixing=mixer.isMixing.bind(mixer);this.getOperation=mixer.getOperation.bind(mixer);this.getConfig=mixer.getConfig.bind(mixer);this.getState=mixer.getState.bind(mixer);this.callActions("afterConstruct",arguments);h.freeze(this);h.seal(this)};mixitup.BaseStatic.call(mixitup.Facade);mixitup.Facade.prototype=Object.create(mixitup.Base.prototype);mixitup.Facade.prototype.constructor=mixitup.Facade;if(typeof exports==="object"&&typeof module==="object"){module.exports=mixitup}else if(typeof define==="function"&&define.amd){define(function(){return mixitup})}else if(typeof window.mixitup==="undefined"||typeof window.mixitup!=="function"){window.mixitup=window.mixItUp=mixitup}if((jq=window.$||window.jQuery)&&jq.fn.jquery){mixitup.registerJqPlugin(jq)}mixitup.BaseStatic.call(mixitup.constructor);mixitup.NAME="mixitup";mixitup.CORE_VERSION="3.1.5"})(window);!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:["width","items","settings"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:["items","settings"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g--;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i;this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:["width","items","settings"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c)}},{filter:["width","items","settings"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var b,c,e;b=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,e=this.$element.children(c).width(),b.length&&e<=0&&this.preloadAutoWidthImages(b)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is("valid")&&this.enter("valid")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},e.prototype.closest=function(b,c){var d=-1,e=30,f=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(a,h){return"left"===c&&b>h-e&&b<h+e?d=a:"right"===c&&b>h-f-e&&b<h-f+e?d=a+1:this.op(b,"<",h)&&this.op(b,">",g[a+1]||h-f)&&(d="left"===c?a+1:a),d===-1},this)),this.settings.loop||(this.op(b,">",g[this.minimum()])?d=b=this.minimum():this.op(b,"<",g[this.maximum()])&&(d=b=this.maximum())),d},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){a=this.normalize(a),a!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){for(b=this._items.length,c=this._items[--b].width(),d=this.$element.width();b--&&(c+=this._items[b].width()+this.settings.margin,!(c>d)););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2===0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=f*-1*g),a=c+e,d=((a-h)%g+g)%g+h,d!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.$element.is(":visible")&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c})},e.prototype.remove=function(a){a=this.normalize(a,!0),a!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"))},this))},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),this.settings.responsive!==!1&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&a.namespace.indexOf("owl")!==-1?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==typeof b&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type))for(var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&e*-1||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy")},this)).attr("src",g):(e=new Image,e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"==a.property.name&&this.update()},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.$stage.children().toArray().slice(b,c),e=[],f=0;a.each(d,function(b,c){e.push(a(c).height())}),f=Math.max.apply(null,e),this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube"}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?'style="width:'+c.width+"px;height:"+c.height+'px;"':"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function(a){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?'<div class="owl-video-tn '+j+'" '+i+'="'+a+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+a+')"></div>',b.after(d),b.after(e)};if(b.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a[0].thumbnail_large,l(f)}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),"youtube"===f.type?c='<iframe width="'+g+'" height="'+h+'" src="//www.youtube.com/embed/'+f.id+"?autoplay=1&rel=0&v="+f.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===f.type?c='<iframe src="//player.vimeo.com/video/'+f.id+'?autoplay=1" width="'+g+'" height="'+h+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===f.type&&(c='<iframe frameborder="0"height="'+h+'"width="'+g+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+f.id+'/player?autoplay=true"></iframe>'),a('<div class="owl-video-frame">'+c+"</div>").insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame")},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type)},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(a,b){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},e.prototype._getNextTimeout=function(d,e){return this._timeout&&b.clearTimeout(this._timeout),b.setTimeout(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||c.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),d||this._core.settings.autoplayTimeout)},e.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},e.prototype.stop=function(){this._core.is("rotating")&&(b.clearTimeout(this._timeout),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))"function"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a("<div>").addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))"function"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))"function"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);$(document).on("ready",function(){"use strict";var win=$(window);win.on("load",function(){$(".loading-overlay").fadeOut(100)});win.on("scroll",function(){var wScrollTop=$(window).scrollTop();if(wScrollTop>150){$("#pageHeader").addClass("shrink")}else{$("#pageHeader").removeClass("shrink")}});$("body").scrollspy({target:".navbar-collapse",offset:70});$(".nav a").on("click",function(){$("#myNavbar").removeClass("in").addClass("collapse")});$(".navbar-nav li a, .navbar-brand, .button a, .a-btn").on("click",function(e){var anchor=$(this);$("html, body").stop().animate({scrollTop:$(anchor.attr("href")).offset().top-60},1e3);e.preventDefault()});var mixerContainer=$("#portfolio #change"),mixer=mixitup(mixerContainer,{selectors:{control:"#portfolio ul > li"}}),scrollButton=$("#scroll-top");$(".my-portfolio ul li").on("click",function(){$(this).addClass("selected").siblings().removeClass("selected")});win.on("scroll",function(){if($(this).scrollTop()>=700){scrollButton.show()}else{scrollButton.hide()}});scrollButton.on("click",function(){$("html,body").animate({scrollTop:0},1100)});$(".slider .owl-carousel").owlCarousel({items:1,loop:true,margin:0,autoplay:true,autoplayTimeout:6500,autoplayHoverPause:true,smartSpeed:650});$(".clients .owl-carousel").owlCarousel({items:1,loop:true,margin:0,autoplay:true,autoplayTimeout:3e3,autoplayHoverPause:true,smartSpeed:650});$(".team .owl-carousel").owlCarousel({items:3,loop:true,margin:20,autoplay:true,autoplayTimeout:3e3,autoplayHoverPause:true,smartSpeed:650,responsiveClass:true,responsive:{992:{items:3},768:{items:2},0:{items:1}}});$(".blog .owl-carousel").owlCarousel({items:3,loop:true,margin:20,autoplay:true,autoplayTimeout:3e3,autoplayHoverPause:true,smartSpeed:650,responsiveClass:true,responsive:{992:{items:3},768:{items:2},0:{items:1}}});$(".counter").counterUp({delay:50,time:2e3});$(".tlt").textillate({loop:true,in:{delayScale:1,delay:70,sync:false,shuffle:false,reverse:false,callback:function(){}},out:{delayScale:.1,delay:5,sync:false,shuffle:false,reverse:true,callback:function(){}},callback:function(){}})});!function(a,b){if("function"==typeof define&&define.amd)define(["module","exports"],b);else if("undefined"!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports),a.WOW=c.exports}}(this,function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){return b.indexOf(a)>=0}function e(a,b){for(var c in b)if(null==a[c]){var d=b[c];a[c]=d}return a}function f(a){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)}function g(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=arguments.length<=3||void 0===arguments[3]?null:arguments[3],e=void 0;return null!=document.createEvent?(e=document.createEvent("CustomEvent"),e.initCustomEvent(a,b,c,d)):null!=document.createEventObject?(e=document.createEventObject(),e.eventType=a):e.eventName=a,e}function h(a,b){null!=a.dispatchEvent?a.dispatchEvent(b):b in(null!=a)?a[b]():"on"+b in(null!=a)&&a["on"+b]()}function i(a,b,c){null!=a.addEventListener?a.addEventListener(b,c,!1):null!=a.attachEvent?a.attachEvent("on"+b,c):a[b]=c}function j(a,b,c){null!=a.removeEventListener?a.removeEventListener(b,c,!1):null!=a.detachEvent?a.detachEvent("on"+b,c):delete a[b]}function k(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight}Object.defineProperty(b,"__esModule",{value:!0});var l,m,n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=window.WeakMap||window.MozWeakMap||function(){function a(){c(this,a),this.keys=[],this.values=[]}return n(a,[{key:"get",value:function(a){for(var b=0;b<this.keys.length;b++){var c=this.keys[b];if(c===a)return this.values[b]}}},{key:"set",value:function(a,b){for(var c=0;c<this.keys.length;c++){var d=this.keys[c];if(d===a)return this.values[c]=b,this}return this.keys.push(a),this.values.push(b),this}}]),a}(),p=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(m=l=function(){function a(){c(this,a),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}return n(a,[{key:"observe",value:function(){}}]),a}(),l.notSupported=!0,m),q=window.getComputedStyle||function(a){var b=/(\-([a-z]){1})/g;return{getPropertyValue:function(c){"float"===c&&(c="styleFloat"),b.test(c)&&c.replace(b,function(a,b){return b.toUpperCase()});var d=a.currentStyle;return(null!=d?d[c]:void 0)||null}}},r=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c(this,a),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate=function(){return"requestAnimationFrame"in window?function(a){return window.requestAnimationFrame(a)}:function(a){return a()}}(),this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=e(b,this.defaults),null!=b.scrollContainer&&(this.config.scrollContainer=document.querySelector(b.scrollContainer)),this.animationNameCache=new o,this.wowEvent=g(this.config.boxClass)}return n(a,[{key:"init",value:function(){this.element=window.document.documentElement,d(document.readyState,["interactive","complete"])?this.start():i(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var a=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var b=0;b<this.boxes.length;b++){var c=this.boxes[b];this.applyStyle(c,!0)}if(this.disabled()||(i(this.config.scrollContainer||window,"scroll",this.scrollHandler),i(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live){var d=new p(function(b){for(var c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.addedNodes.length;e++){var f=d.addedNodes[e];a.doSync(f)}});d.observe(document.body,{childList:!0,subtree:!0})}}},{key:"stop",value:function(){this.stopped=!0,j(this.config.scrollContainer||window,"scroll",this.scrollHandler),j(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){p.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(a){if("undefined"!=typeof a&&null!==a||(a=this.element),1===a.nodeType){a=a.parentNode||a;for(var b=a.querySelectorAll("."+this.config.boxClass),c=0;c<b.length;c++){var e=b[c];d(e,this.all)||(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),this.scrolled=!0)}}}},{key:"show",value:function(a){return this.applyStyle(a),a.className=a.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(a),h(a,this.wowEvent),this.config.resetAnimation&&(i(a,"animationend",this.resetAnimation),i(a,"oanimationend",this.resetAnimation),i(a,"webkitAnimationEnd",this.resetAnimation),i(a,"MSAnimationEnd",this.resetAnimation)),a}},{key:"applyStyle",value:function(a,b){var c=this,d=a.getAttribute("data-wow-duration"),e=a.getAttribute("data-wow-delay"),f=a.getAttribute("data-wow-iteration");return this.animate(function(){return c.customStyle(a,b,d,e,f)})}},{key:"resetStyle",value:function(){for(var a=0;a<this.boxes.length;a++){var b=this.boxes[a];b.style.visibility="visible"}}},{key:"resetAnimation",value:function(a){if(a.type.toLowerCase().indexOf("animationend")>=0){var b=a.target||a.srcElement;b.className=b.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function(a,b,c,d,e){return b&&this.cacheAnimationName(a),a.style.visibility=b?"hidden":"visible",c&&this.vendorSet(a.style,{animationDuration:c}),d&&this.vendorSet(a.style,{animationDelay:d}),e&&this.vendorSet(a.style,{animationIterationCount:e}),this.vendorSet(a.style,{animationName:b?"none":this.cachedAnimationName(a)}),a}},{key:"vendorSet",value:function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];a[""+c]=d;for(var e=0;e<this.vendors.length;e++){var f=this.vendors[e];a[""+f+c.charAt(0).toUpperCase()+c.substr(1)]=d}}}},{key:"vendorCSS",value:function(a,b){for(var c=q(a),d=c.getPropertyCSSValue(b),e=0;e<this.vendors.length;e++){var f=this.vendors[e];d=d||c.getPropertyCSSValue("-"+f+"-"+b)}return d}},{key:"animationName",value:function(a){var b=void 0;try{b=this.vendorCSS(a,"animation-name").cssText}catch(c){b=q(a).getPropertyValue("animation-name")}return"none"===b?"":b}},{key:"cacheAnimationName",value:function(a){return this.animationNameCache.set(a,this.animationName(a))}},{key:"cachedAnimationName",value:function(a){return this.animationNameCache.get(a)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var a=[],b=0;b<this.boxes.length;b++){var c=this.boxes[b];if(c){if(this.isVisible(c)){this.show(c);continue}a.push(c)}}this.boxes=a,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(a){for(;void 0===a.offsetTop;)a=a.parentNode;for(var b=a.offsetTop;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop;return b}},{key:"isVisible",value:function(a){var b=a.getAttribute("data-wow-offset")||this.config.offset,c=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,d=c+Math.min(this.element.clientHeight,k())-b,e=this.offsetTop(a),f=e+a.clientHeight;return d>=e&&f>=c}},{key:"disabled",value:function(){return!this.config.mobile&&f(navigator.userAgent)}}]),a}();b["default"]=r,a.exports=b["default"]});
